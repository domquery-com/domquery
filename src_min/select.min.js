function rgbToRgba(w,l=.5){if(!w||w.startsWith("rgba"))return w;var H=w.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(H){const [,m,A,p]=H;return`rgba(${m}, ${A}, ${p}, ${l})`}if(H=w.match(/^#([a-fA-F0-9]{6})$/)){var x=H[1];w=parseInt(x.substr(0,2),16);H=parseInt(x.substr(2,2),16);x=parseInt(x.substr(4,2),16);return`rgba(${w}, ${H}, ${x}, ${l})`}return(H=w.match(/^#([a-fA-F0-9]{3})$/))?(x=H[1],w=parseInt(x[0]+x[0],16),H=parseInt(x[1]+x[1],16),x=parseInt(x[2]+x[2],16),`rgba(${w}, ${H}, ${x}, ${l})`):w}
$.select=function(w,l,H){function x(g,B){let z;return function(){const q=arguments;z||(g.apply(this,q),z=!0,setTimeout(()=>z=!1,B))}}function m(){return!0===("undefined"!==typeof $&&$.isMobile?$.isMobile():{isMobile:!1,isTablet:!1,isIOS:!1}).isMobile}function A(g){const B=document.createElement("div");B.innerHTML=g;return B.textContent||B.innerText||""}function p(g,B=0){return 1===B?g.replace(/\x3c!--(.*?)--\x3e/g,"$1").replace(/<[^>]*>/g,""):g.replace(/\x3c!--(.*?)--\x3e/g,"$1")}function R(g,B){g=
$(g);B=g.find("option, li").eq(B);if(!B.length)return{text:g.find("option, li").first().text().trim(),tag:null};var z=B.html().replace(/\x3c!--(.*?)--\x3e/g,"$1").trim();const q=[];var G=B;for(q.unshift(z);G.length;){var e=G.attr("class")?.split(" ")||[];z=!1;for(const S of e)if(e=g.find(`[group="${S}"]`),e.length){G=e.html().replace(/\x3c!--(.*?)--\x3e/g,"$1").trim();q.unshift(G);G=e;z=!0;break}if(!z)break}return{text:q.join(" > "),tag:B.attr("tag")}}function O(g,B){B=parseInt(B?.radioSize||"16")/
2;return`<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: ${B}px; height: ${B}px; background-color: ${g}; border-radius: 50%;"></div>`}function E(g){g=parseInt(g);return`<span style="\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\ttop: 50%;\n\t\t\twidth: ${.3*g}px;\n\t\t\theight: ${.6*g}px;\n\t\t\tborder: solid white;\n\t\t\tborder-width: 0 ${.12*g}px ${.12*g}px 0;\n\t\t\ttransform: translate(-50%, -65%) rotate(45deg);\n\t\t\tdisplay: block;\n\t\t"></span>`}
function ja(g,B="16px"){return`<div style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; display: flex; align-items: center; justify-content: center; color: #fff; font-size: ${Math.max(.7*parseInt(B),10)}px; font-weight: bold; line-height: 1; text-align: center; -webkit-font-smoothing: antialiased; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; -webkit-tap-highlight-color: transparent;">${g}</div>`}function W(g="50%",B="10px"){return{position:"absolute",
right:B,top:g,transform:"translateY(-50%)",width:"16px",height:"16px"}}function aa(g){let B=g.groupArrowStyle?.size||g.arrowSize,z=g.arrowRight||W().right,q=g.groupArrowColor||g.arrowColor;if("checkbox"===g.pointer||g.pointer?.startsWith("checkbox_")){if(!g.groupArrowStyle?.size&&g.checkboxSize){var G=parseFloat(g.checkboxSize);isNaN(G)||(B=`${.6*G}px`)}!g.groupArrowColor&&g.checkboxColor&&(q=g.checkboxColor)}else"radio"===g.pointer?(!g.groupArrowStyle?.size&&g.radioSize&&(G=parseFloat(g.radioSize),
isNaN(G)||(B=`${.6*G}px`)),!g.groupArrowColor&&g.radioColor&&(q=g.radioColor)):g.pointer&&g.pointer.startsWith("question_")&&!g.groupArrowColor&&g.questionColor&&(q=g.questionColor);return{arrowSizeValue:B,arrowRightValue:z,arrowColorValue:q}}function T(g){return{wrapperClass:g+"-wrapper",triggerClass:g+"-trigger",optionsClass:g+"-options",optionClass:g+"-option",openClass:g+"-open"}}function Y(g){return{border:`2px solid ${g||"#ccc"}`,backgroundColor:"#fff"}}function y(g){wa&&((g=g.find("select").first()[0])&&
g._selectId&&(g=window._gong_tea_yun_0.get(g._selectId+"_close"))&&g.call(this,wa),wa=0)}function M(g,B,z){const q=g.closest('[class*="-wrapper"]');g.find("div").first().css({"background-color":z.optionsStyle.background||"#fff"});y(q);B?(z.slideToggle?g.css("opacity",z.opacity||0):g.css("opacity",""),g.slideUp(B,{easing:z.easing,complete:domqueryFocus})):(g.hide(),domqueryFocus())}function I(g,B,z,q){if(!ya){ya=!0;var G=g.closest('[class*="-wrapper"]');y(G);z.css({"background-color":"rgba(0, 0, 0, 0)"});
var e=G.find("select").first()[0]._selectId;setTimeout(()=>{e&&domquery(this).historyOff("select-"+e);ya=!1},B+300);g.slideUp(B,{easing:q.easing,complete:function(){z.hide();domqueryFocus()}})}}function U(g,B,z,q,G){if(!ya){ya=!0;y(q);q.data("upHTMe10Running",!0);z.css({"background-color":"rgba(0, 0, 0, 0)",opacity:""});var e=q.find("select").first()[0]._selectId;setTimeout(()=>{!q.data("groupClicked")&&e&&domquery(this).historyOff("select-"+e);ya=!1},B+300);g.css("opacity","").slideUp(B,{easing:G.easing,
complete:function(){z.css("pointer-events","none").hide();q.removeClass(G.openClass);q.attr("data-state","closed");setTimeout(()=>{z.css("pointer-events","")},100);domqueryFocus()}})}}function Z(g,B){var z=m(),q=g.data("settings");if(!z){const G=g[0].getBoundingClientRect(),e=window.innerHeight;B=B.find("div").first();const S=q&&q.height,V=S||`${.6*e}px`;z=e-G.bottom;const ca=G.top;if(q.parentView)return g={position:"fixed",left:G.left+"px",width:G.width+"px",zIndex:1E3,height:V,overflowY:"auto",
overflowX:"hidden"},ca>z&&z<B[0].scrollHeight?(g.bottom=e-G.top+"px",g.top="auto",g.borderRadius="4px 4px 0 0"):(g.top=G.bottom+"px",g.bottom="auto",g.borderRadius="0 0 4px 4px"),g;if(S)return{top:"100%",bottom:"auto",borderRadius:"0 0 4px 4px",borderTop:"none",borderBottom:"1px solid #ccc"};g=g.find("select").first();g=(g.length?parseInt(g.height()||g.css("height")):null)||B[0].scrollHeight;q={top:"100%",bottom:"auto",borderRadius:"0 0 4px 4px",borderTop:"none",borderBottom:"1px solid #ccc"};z<g&&
ca>z?(q={top:"auto",bottom:"100%",borderRadius:"4px 4px 0 0",borderBottom:"1px solid #ccc",borderTop:"none"},ca<g&&B.css({maxHeight:`${ca-10}px`,overflowY:"auto"})):z<g&&B.css({maxHeight:`${z-10}px`,overflowY:"auto"});return q}return{position:"fixed",left:"0",right:"0",bottom:"0",top:"auto",borderRadius:q.MborderRadius||"4px 4px 0 0",width:"100%",Mheight:q.Mheight||"60vh",height:q.height||"auto",minHeight:q.minHeight||"auto",maxHeight:q.maxHeight||(z?q.Mheight||"60vh":q.height||"300px"),overflowY:"auto",
zIndex:"1000"}}function ma(g){g.css({"pointer-events":"none",opacity:"0.6"})}function fa(g,B){B&&g&&Object.entries(B).forEach(([z,q])=>{try{g.style[z]=q}catch(G){console.warn("Style application failed for property:",z)}})}function Ba(g,B){if(B.scrollColor)try{g.find('[class*="-options"]');const z=B.optionsStyle.background||"#fff",q=B.optionStyle.borderBottomColor||"#ddd",G=`scrollbar-${g.attr("id")||Math.random().toString(36).substr(2,9)}`;$(`#${G}`).remove();const e=document.createElement("style");
e.id=G;e.textContent=`\n\t\t\t\t#${g.attr("id")} .${B.optionsClass}::-webkit-scrollbar,\n\t\t\t\t#${g.attr("id")} .${B.optionsClass} div::-webkit-scrollbar {\n\t\t\t\t\twidth: 8px;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#${g.attr("id")} .${B.optionsClass}::-webkit-scrollbar-track,\n\t\t\t\t#${g.attr("id")} .${B.optionsClass} div::-webkit-scrollbar-track {\n\t\t\t\t\tbackground: ${z};\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#${g.attr("id")} .${B.optionsClass}::-webkit-scrollbar-thumb,\n\t\t\t\t#${g.attr("id")} .${B.optionsClass} div::-webkit-scrollbar-thumb {\n\t\t\t\t\tbackground: ${q};\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tborder: 1px solid ${z};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#${g.attr("id")} .${B.optionsClass}::-webkit-scrollbar-thumb:hover,\n\t\t\t\t#${g.attr("id")} .${B.optionsClass} div::-webkit-scrollbar-thumb:hover {\n\t\t\t\t\tbackground: ${q};\n\t\t\t\t\topacity: 0.8;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#${g.attr("id")} .${B.optionsClass} {\n\t\t\t\t\tscrollbar-width: thin;\n\t\t\t\t\tscrollbar-color: ${q} ${z};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#${g.attr("id")} .${B.optionsClass} div {\n\t\t\t\t\tscrollbar-width: thin;\n\t\t\t\t\tscrollbar-color: ${q} ${z};\n\t\t\t\t}\n\t\t\t`;
document.head.appendChild(e);g.data("scrollbarStyleId",G)}catch(z){console.warn("\uc2a4\ud06c\ub864\ubc14 \uc0c9\uc0c1 \uc801\uc6a9 \uc911 \uc624\ub958:",z)}}let ya=!1,wa=0;window._isMouseDown_gong=!1;window._isGroupClick=!1;window._selectPreviousFocus||(window._selectPreviousFocus=null);$(document).off("mousedown.selectTrigger touchstart.selectTrigger",'[class*="-trigger"]').on("mousedown.selectTrigger touchstart.selectTrigger",'[class*="-trigger"]',function(g){!(g=document.activeElement)||"INPUT"!==
g.tagName&&"TEXTAREA"!==g.tagName&&"true"!==g.getAttribute("contenteditable")||(window._selectPreviousFocus=g,void 0!==g.selectionStart&&(window._selectPreviousFocusPosition=g.selectionStart))});window.domqueryFocus=function(){if(m())try{window._selectPreviousFocus&&document.body.contains(window._selectPreviousFocus)?setTimeout(()=>{try{if(window._selectPreviousFocus.focus(),"INPUT"===window._selectPreviousFocus.tagName||"TEXTAREA"===window._selectPreviousFocus.tagName){const g=window._selectPreviousFocus.value.length;
window._selectPreviousFocus.setSelectionRange(g,g)}}catch(g){}window._selectPreviousFocus=null},100):window._selectPreviousFocus=null}catch(g){window._selectPreviousFocus=null}};window._gong_tea_yun_0||(window._gong_tea_yun_0=new Map);window._gong_tea_yun_1||(window._gong_tea_yun_1=new Map);if(!document.getElementById("custom-select-group-style")){const g=document.createElement("style");g.id="custom-select-group-style";g.textContent="\n\t\t\t.group-option {\n\t\t\t\tposition: relative;\n\t\t\t\tpadding-right: 30px !important;\n\t\t\t\tfont-style: italic;\n\t\t\t\tcolor: #666;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t\t.child-option {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t\n\t\t";
document.head.appendChild(g)}"function"===typeof w?(H=w,l={},w=0):"function"===typeof l?"object"===typeof w?(H=l,l=w,w=0):(H=l,l={}):"object"===typeof w&&(l=w,w=0);l=l||{};w=parseInt(w)||0;this.elements.forEach(g=>{function B(c){if(!c)return"10px";c=c.split(" ").filter(b=>b.trim());return 1===c.length?c[0]:2===c.length?c[1]:4===c.length?c[3]:"10px"}if(g._selectId){var z=$(g).parent();if(z.length&&z[0].className&&"string"===typeof z[0].className&&z[0].className.includes("-wrapper"))return}var q=Math.random().toString(36).substr(2,
9);z=T("select-"+q);var G=m();G="auto"===l.slideToggle?G?!1:!0:l.slideToggle||!1;let e={...z,height:l.height,defaultText:"Select an option",allowHTML:!0,opacity:0,easing:"linear",onclick:!1,offclick:!1,trigger:null,triggerOnce:null,onSelect:null,activeBackground:"#f5f5f5",highlightedClass:"highlighted",pointer:null,showArrow:!0,arrowColor:"#333",arrowSize:"5px",arrowRight:"10px",arrowTop:"50%",tagMargin:l.tagMargin||"0 0 0 10px",closeBox:l.closeBox||!1,checkboxSize:l.checkboxSize||"16px",questionSize:l.questionSize||
"16px",radioSize:l.radioSize||"16px",scrollColor:l.scrollColor||!1,triggerBgColor:l.triggerBgColor,triggerColor:l.triggerColor,triggerBorderColor:l.triggerBorderColor,triggerBorderWidth:l.triggerBorderWidth,triggerBorderRadius:l.triggerBorderRadius,triggerFontSize:l.triggerFontSize,triggerFontWeight:l.triggerFontWeight,triggerPadding:l.triggerPadding,triggerHeight:l.triggerHeight,triggerLineHeight:l.triggerLineHeight,triggerActiveBgColor:l.triggerActiveBgColor,triggerActiveColor:l.triggerActiveColor,
triggerActiveBorderColor:l.triggerActiveBorderColor,wrapperStyle:{position:"relative",caretColor:"transparent",margin:"0",padding:"0",WebkitTapHighlightColor:"transparent",WebkitTouchCallout:"none"},triggerStyle:{padding:l.defaultPadding||"10px",paddingRight:l.defaultPaddingRight||"40px",margin:l.defaultMargin||"0",border:`${l.defaultBorderWidth||"1px"} ${l.defaultBorderStyle||"solid"} ${l.defaultBorderColor||"#ccc"}`,borderRadius:l.defaultBorderRadius||"4px",cursor:l.defaultCursor||"pointer",background:l.defaultBgColor||
"#fff",color:l.defaultColor||"#000",position:l.defaultPosition||"relative",WebkitTapHighlightColor:l.defaultTapHighlight||"transparent",WebkitTouchCallout:l.defaultTouchCallout||"none",boxSizing:l.defaultBoxSizing||"border-box"},overlayStyle:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0)",zIndex:999,transition:"background-color 0.3s ease",display:"none"},optionsStyle:{position:"absolute",top:"100%",left:"0",right:"0",margin:"0",padding:"0",background:"#fff",border:"1px solid #ddd",
borderTop:"none",borderRadius:"0 0 4px 4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:"1",maxHeight:"280px",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},optionStyle:{padding:"10px",cursor:"pointer",fontWeight:"normal",WebkitTapHighlightColor:"transparent",WebkitTouchCallout:"none",borderBottom:"1px solid #f5f0f0",position:"relative"},selectedOptionStyle:{background:"transparent",fontWeight:"bold"},selectedBg:null,
disabledOptionStyle:{filter:"opacity(0.5)",cursor:"not-allowed",fontStyle:"italic"},disabledStyle:{filter:"opacity(0.5)",cursor:"not-allowed",textDecoration:"line-through"},questionStyle:{...W(),...Y(l.buttonColor),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:l.buttonColor||"#666",width:l.questionSize||"16px",height:l.questionSize||"16px"},checkboxStyle:{...W(),...Y(l.buttonColor),borderRadius:"3px",zIndex:"1",display:"block"},
checkboxSelectedStyle:{border:"2px solid #007bff",backgroundColor:"#007bff","&::after":{content:'""',position:"absolute",left:"5px",top:"1px",width:"4px",height:"8px",border:"solid white",borderWidth:"0 2px 2px 0",transform:"rotate(45deg)",display:"block"}},radioStyle:{...W(),...Y(l.buttonColor),borderRadius:"50%"},radioSelectedStyle:{border:"2px solid #007bff",borderRadius:"50%",backgroundColor:"#fff","&::after":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",
width:"8px",height:"8px",backgroundColor:"#007bff",borderRadius:"50%"}},radioDisabledStyle:{border:"2px solid #ddd",backgroundColor:"#f5f5f5",cursor:"not-allowed"},dotStyle:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",width:"4px",height:"4px",borderRadius:"50%",border:"2px solid #ccc",backgroundColor:"#ccc"},dotSelectedStyle:{border:`2px solid ${l.dotColor||"#007bff"}`,backgroundColor:l.dotColor||"#007bff"},defaultBgColor:"#ffffff",defaultColor:"#333333",defaultBorderColor:"#cccccc",
triggerHoverBgColor:l.triggerHoverBgColor||"#f5f5f5",triggerHoverColor:l.triggerHoverColor||"#000000",triggerHoverBorderColor:l.triggerHoverBorderColor||"#999999",radioColor:l.radioColor||"#007bff",checkboxColor:l.checkboxColor||"#007bff",questionColor:l.questionColor||"#007bff",buttonColor:l.buttonColor||"#ccc",dotColor:l.dotColor||"#007bff",...l,...z,slideToggle:G};("checkbox"===e.pointer||e.pointer?.startsWith("checkbox_"))&&setTimeout(()=>{const c=$(g),b=c.find("option[selected]").filter(function(){return""!==
$(this).val().trim()&&!$(this).is(":disabled")}).map(function(){return{value:$(this).val(),text:$(this).text(),index:$(this).index()}}).get().length,a=c.closest('[class*="-wrapper"]');a.attr("data-check-count",b);const h=a.find(`.${e.triggerClass}`).find(".custom-checkbox");h.css({border:`2px solid ${0<b?e.checkboxColor:e.buttonColor}`,backgroundColor:0<b?e.checkboxColor:"#fff",width:e.checkboxSize,height:e.checkboxSize});0<b&&h.html(ja(b,e.checkboxSize));a.find('[class*="-option"]').each(function(){const d=
$(this);var k=d.attr("data-value"),u=c.find(`option[value="${k}"]`);k=u.is("[selected]")&&""!==k.trim();u=u.is(":disabled");const n=d.find(".custom-checkbox");n.length&&(n.css({border:`2px solid ${k?e.checkboxColor:e.buttonColor}`,backgroundColor:k?e.checkboxColor:u?"#f5f5f5":"#fff",width:e.checkboxSize,height:e.checkboxSize}),k&&n.html(E(e.checkboxSize)),d.attr("data-checked",k?"true":"false"))})},0);g._selectId||(g._selectId=q);H&&window._gong_tea_yun_0.set(g._selectId+"_callback",H);l.onSelect&&
window._gong_tea_yun_0.set(g._selectId+"_onSelect",l.onSelect);l.open&&window._gong_tea_yun_0.set(g._selectId+"_open",l.open);l.close&&window._gong_tea_yun_0.set(g._selectId+"_close",l.close);z="select"===g.tagName.toLowerCase();G="ul"===g.tagName.toLowerCase();if(z||G){if(G){var S=document.createElement("select");S.className=g.className;(z=g.getAttribute("onchange"))&&S.setAttribute("onchange",z);const c=new Set;function b(a,h=0){Array.from(a).forEach(d=>{if(!c.has(d))if(c.add(d),d.hasAttribute("group")){var k=
d.getAttribute("group");const u=document.createElement("option");u.innerHTML=d.innerHTML;u.setAttribute("group",k);u.setAttribute("data-is-group","true");u.setAttribute("data-level",h);d.className&&(u.className=d.className);S.appendChild(u);const n=d.getAttribute("group");d=Array.from(g.children).filter(L=>L.classList.contains(n));b(d,h+1)}else k=document.createElement("option"),k.value=d.getAttribute("value")||"",k.innerHTML=d.innerHTML,d.hasAttribute("img")&&k.setAttribute("img",d.getAttribute("img")),
d.getAttribute("tag")&&k.setAttribute("tag",d.getAttribute("tag")),d.hasAttribute("disabled")&&(k.disabled=!0),d.hasAttribute("selected")&&(k.selected=!0),d.className&&(k.className=d.className),k.setAttribute("data-level",h),S.appendChild(k)})}b(g.children);g.parentNode.replaceChild(S,g)}else S=g;S._selectId=g._selectId;var V=document.createElement("div");V.className=e.wrapperClass;V.setAttribute("data-state","closed");V.setAttribute("tabindex","0");V.setAttribute("data-selected-index","-1");V.setAttribute("data-previous-index",
"-1");$(V).data("settings",e);l.width&&(V.style.width=l.width,V.style.boxSizing="border-box");(z=S.querySelector("option:checked"))&&z.value&&(V.setAttribute("data-selected-value",z.value),z=Array.from(S.options).indexOf(z),V.setAttribute("data-selected-index",z));fa(V,e.wrapperStyle);z=document.createElement("div");z.style.position="relative";var ca=document.createElement("div");ca.className=e.triggerClass;ca.setAttribute("tabindex","-1");fa(ca,{padding:e.defaultPadding||"10px",paddingRight:e.defaultPaddingRight||
"40px",margin:e.defaultMargin||"0",border:`${e.defaultBorderWidth||"1px"} solid ${e.defaultBorderColor||"#ccc"}`,borderRadius:e.defaultBorderRadius||"4px",cursor:"pointer",backgroundColor:e.defaultBgColor,color:e.defaultColor,position:"relative",width:"100%",boxSizing:"border-box"});$(ca).on({mouseenter:function(c){window._isMouseDown_gong||(c=$(this).closest(`.${e.wrapperClass}`).data("settings"))&&c.triggerHoverBgColor&&(this.style.backgroundColor=c.triggerHoverBgColor,this.style.color=c.triggerHoverColor||
c.defaultColor,this.style.borderColor=c.triggerHoverBorderColor||c.defaultBorderColor)},mouseleave:function(){const c=$(this).closest(`.${e.wrapperClass}`).data("settings");c&&(this.style.backgroundColor=c.defaultBgColor,this.style.color=c.defaultColor,this.style.borderColor=c.defaultBorderColor)}});var pa=G=null;e.triggerStyle&&(e.triggerStyle.width?G=e.triggerStyle.width:e.triggerStyle.maxWidth?G=e.triggerStyle.maxWidth:e.triggerStyle.minWidth&&(G=e.triggerStyle.minWidth),e.triggerStyle.height?
pa=e.triggerStyle.height:e.triggerStyle.maxHeight?pa=e.triggerStyle.maxHeight:e.triggerStyle.minHeight&&(pa=e.triggerStyle.minHeight));G||(G=S.style.width,!G&&S.style.maxWidth&&(G=S.style.maxWidth),!G&&S.style.minWidth&&(G=S.style.minWidth));pa||(pa=S.style.height,!pa&&S.style.maxHeight&&(pa=S.style.maxHeight),!pa&&S.style.minHeight&&(pa=S.style.minHeight));fa(ca,e.triggerStyle);ca.style.whiteSpace="nowrap";ca.style.overflow="hidden";ca.style.textOverflow="ellipsis";ca.style.paddingRight=e.defaultPaddingRight||
"40px";ca.style.height="auto";var ha=e.defaultText,za=S.querySelector("option:checked");if(za){var da=Array.from(S.options);"checkbox"===e.pointer||e.pointer?.startsWith("checkbox_")?(da=da.find(c=>""===c.value))&&(ha=e.allowHTML?da.innerHTML:da.textContent):(ha=da.indexOf(za),ha=R(S,ha).text,S._needsExpandGroup=!0)}!e.showArrow||"radio"===e.pointer||"checkbox"===e.pointer||e.pointer&&(e.pointer.startsWith("question_")||e.pointer.startsWith("checkbox_"))||(q="custom-select-arrow-style-"+q,document.getElementById(q)||
(da=document.createElement("style"),da.id=q,da.textContent=`\n\t\t\t\t\t.${e.triggerClass}::after {\n\t\t\t\t\t   content: '';\n\t\t\t\t\t   position: absolute;\n\t\t\t\t\t   right: ${e.arrowRight};\n\t\t\t\t\t   top: ${e.arrowTop}; \n\t\t\t\t\t   transform: translateY(-50%);\n\t\t\t\t\t   width: 0;\n\t\t\t\t\t   height: 0;\n\t\t\t\t\t   border-left: ${e.arrowSize} solid transparent;\n\t\t\t\t\t   border-right: ${e.arrowSize} solid transparent;\n\t\t\t\t\t   border-top: ${e.arrowSize} solid ${e.arrowColor};\n\t\t\t\t\t   transition: transform 0.3s ease;\n\t\t\t\t\t   z-index: 1;\n\t\t\t\t\t}\n\t\t\t\t\t.${e.wrapperClass}.${e.openClass} .${e.triggerClass}::after {\n\t\t\t\t\t   transform: translateY(-50%) rotate(180deg);\n\t\t\t\t\t   z-index: 1;  \n\t\t\t\t\t}\n\t\t\t\t\t.${e.triggerClass} {\n\t\t\t\t\t   position: relative;\n\t\t\t\t\t   z-index: 0;\n\t\t\t\t\t}\n\t\t\t\t`,
document.head.appendChild(da)));if(e.allowHTML){ca.innerHTML=ha;if(!e.pointer?.startsWith("question_")&&!e.pointer?.startsWith("checkbox_")&&"checkbox"!==e.pointer&&(q=S.querySelector("option:checked"),!0===e.tag&&q&&q.getAttribute("tag"))){q=q.getAttribute("tag");ha=document.createElement("span");da=e.tagStyle||{};var na=e.tagMap||{},ka={position:"absolute",right:"radio"===e.pointer?"40px":"30px",top:"50%",transform:"translateY(-50%)",color:da.color||e.tagColor||"#666",fontSize:da.fontSize||"12px",
margin:e.tagMargin};da.padding&&(ka.padding=da.padding);da.borderRadius&&(ka.borderRadius=da.borderRadius);da.fontWeight&&(ka.fontWeight=da.fontWeight);na[q]&&(ka.backgroundColor=na[q]);Object.assign(ha.style,ka);ha.innerHTML=q;ca.appendChild(ha)}if(e.pointer&&e.pointer.startsWith("question_")){q=document.createElement("div");q.className="custom-question trigger-question";Object.assign(q.style,{...e.questionStyle,width:e.questionSize,height:e.questionSize});if(ha=S.querySelector("option[selected]")){Object.assign(q.style,
{border:`2px solid ${e.questionColor}`,backgroundColor:e.questionColor});q.innerHTML=`<span style="color: white; font-size: calc(${e.questionSize} * 0.6);">\u2713</span>`;ha=ha.getAttribute("tag");if(!0===e.tag&&ha){da=document.createElement("span");na=e.tagStyle||{};ka=e.tagMap||{};const c={position:"absolute",right:"40px",top:"50%",transform:"translateY(-50%)",color:na.color||e.tagColor||"#666",fontSize:na.fontSize||"12px"};na.padding&&(c.padding=na.padding);na.borderRadius&&(c.borderRadius=na.borderRadius);
na.fontWeight&&(c.fontWeight=na.fontWeight);ka[ha]&&(c.backgroundColor=ka[ha]);Object.assign(da.style,c);da.textContent=ha;ca.appendChild(da)}V.setAttribute("data-aun","true")}else q.innerHTML=`<span style="font-size: calc(${e.questionSize} * 0.6);">?</span>`;ca.appendChild(q)}if("checkbox"===e.pointer||e.pointer?.startsWith("checkbox_"))ca.style.position="relative",ca.style.paddingRight="40px",q=document.createElement("div"),q.className="custom-checkbox trigger-checkbox",Object.assign(q.style,{...W(),
border:`2px solid ${e.buttonColor}`,borderRadius:"3px",backgroundColor:"#fff",zIndex:"2",display:"block",width:e.checkboxSize,height:e.checkboxSize}),ca.appendChild(q);"radio"===e.pointer&&(ca.style.position="relative",ca.style.paddingRight="40px",q=document.createElement("div"),q.className="custom-radio trigger-radio",Object.assign(q.style,{...W(),border:`2px solid ${e.buttonColor}`,borderRadius:"50%",backgroundColor:"#fff",width:e.radioSize,height:e.radioSize}),(ha=S.querySelector("option:checked"))&&
ha.value&&""!==ha.value&&(Object.assign(q.style,{border:`2px solid ${e.radioColor}`}),q.innerHTML=O(e.radioColor,e)),ca.appendChild(q))}else ca.textContent=ha,e.pointer?.startsWith("question_")||e.pointer?.startsWith("checkbox_")||"checkbox"===e.pointer||(q=S.querySelector("option:checked"),!0===e.tag&&q&&q.getAttribute("tag")&&(q=q.getAttribute("tag"),ha=document.createElement("span"),da=e.tagStyle||{},na=e.tagMap||{},ka={position:"absolute",right:"radio"===e.pointer?"40px":"30px",top:"50%",transform:"translateY(-50%)",
color:da.color||e.tagColor||"#666",fontSize:da.fontSize||"12px",margin:e.tagMargin},da.padding&&(ka.padding=da.padding),da.borderRadius&&(ka.borderRadius=da.borderRadius),da.fontWeight&&(ka.fontWeight=da.fontWeight),na[q]&&(ka.backgroundColor=na[q]),Object.assign(ha.style,ka),ha.textContent=q,ca.appendChild(ha)));var sa=document.createElement("div");sa.className=e.optionsClass;sa.style.display="none";sa.style.width="100%";sa.style.boxSizing="border-box";"100%"===G?(V.style.width=G,V.style.boxSizing=
"border-box",setTimeout(()=>{const c=parseInt(window.getComputedStyle(V).paddingLeft)+parseInt(window.getComputedStyle(V).paddingRight);ca.style.width=`calc(100% - ${c}px)`;sa.style.width=`calc(100% - ${c}px)`},0)):G&&(V.style.width=G);var ta=document.createElement("div");ta.style.overflowY="auto";ta.style.overflowX="hidden";ta.style.width="100%";ta.addEventListener("touchmove",function(c){c.stopPropagation()},{passive:!0});Object.assign(ta.style,{userSelect:"none",webkitUserSelect:"none",mozUserSelect:"none",
msUserSelect:"none",WebkitTouchCallout:"none"});Object.assign(ca.style,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingRight:e.defaultPaddingRight||"40px",height:"auto",userSelect:"none",webkitUserSelect:"none",mozUserSelect:"none",msUserSelect:"none",WebkitTouchCallout:"none"});pa&&(ta.style.maxHeight=pa);sa.appendChild(ta);G=m()&&!e.slideToggle;pa=e.slideToggle?{}:{top:"-9999px",left:"-9999px",visibility:"hidden"};e._hasBeenShown=!1;fa(sa,{...e.optionsStyle,position:e.slideToggle?
"static":"absolute",zIndex:G?"10000":"1000",...pa});var ua={},f=e.optionStyle?.padding?B(e.optionStyle.padding):"10px";Array.from(S.options||g.children).forEach((c,b)=>{const a=document.createElement("div");a.className=e.optionClass;var h=function(n){let L=0;const J=n.className?n.className.split(" "):[];if(0===J.length)return L;let D=J[0],r=!0;for(;r;)r=!1,Array.from(S.options||n.children).forEach(F=>{F.hasAttribute("group")&&F.getAttribute("group")===D&&(L++,F.className&&(D=F.className.split(" ")[0],
r=!0))});return L}(c);a.setAttribute("data-level",h);h=c.getAttribute("group");var d=c.className;if(c.hasAttribute("group")||"true"===c.getAttribute("data-is-group")){a.classList.add("group-option");a.setAttribute("data-group",h);var k=f;if(d){var u=d.split(" ")[0];ua[u]&&(u=parseFloat(ua[u]),isNaN(u)||(k=u+10+"px"))}h&&(ua[h]=k);k=document.createElement("div");k.className="custom-group-arrow";u=aa(e);let n=u.arrowSizeValue,L=u.arrowRightValue;Object.assign(k.style,{position:"absolute",right:L,top:"50%",
transform:"translateY(-50%) rotate(0deg)",width:"0",height:"0",borderLeft:`${n} solid transparent`,borderRight:`${n} solid transparent`,borderTop:`${n} solid ${u.arrowColorValue}`,transition:"all 0.3s ease"});a.appendChild(k);k=()=>{const J=parseFloat(n),D=parseFloat(L);isNaN(J)||isNaN(D)||a.style.setProperty("padding-right",`${2*J+D+10}px`,"important")};k();a._updateGroupPadding=k;a.style.whiteSpace="nowrap";a.style.overflow="hidden";a.style.textOverflow="ellipsis"}d&&d.split(" ").forEach(n=>{n&&
n.trim()&&(a.classList.add("child-option"),a.classList.add(n))});a.setAttribute("data-value",c.value||c.getAttribute("value")||"");k={...e.optionStyle};if((u=a.classList.contains("child-option"))&&k.padding){const n=k.padding.split(" ");2===n.length?(k.paddingTop=n[0],k.paddingBottom=n[0],k.paddingRight=n[1],delete k.padding):4===n.length&&(k.paddingTop=n[0],k.paddingRight=n[1],k.paddingBottom=n[2],delete k.padding)}fa(a,{...k,position:"relative",paddingRight:c.getAttribute("tag")?"100px":"40px"});
a.classList.contains("group-option")&&h&&ua[h]&&a.style.setProperty("padding-left",ua[h],"important");u&&!a.classList.contains("group-option")&&d&&(k=d.split(" ")[0],d=f,ua[k]&&(k=parseFloat(ua[k]),isNaN(k)||(d=k+10+"px")),a.style.setProperty("padding-left",d,"important"));a.classList.contains("group-option")&&a._updateGroupPadding&&a._updateGroupPadding();a.style.whiteSpace="nowrap";a.style.overflow="hidden";a.style.textOverflow="ellipsis";b===S.options.length-1&&(a.style.borderBottom="none");!e.dot||
e.pointer?.startsWith("question_")||c.hasAttribute("group")||c.getAttribute("data-is-group")||a.querySelector(".custom-dot")||(b=document.createElement("div"),b.className="custom-dot",Object.assign(b.style,e.dotStyle),(c.selected||c.hasAttribute("selected"))&&Object.assign(b.style,e.dotSelectedStyle),e.pointer&&(b.style.right="40px"),a.appendChild(b));c.hasAttribute("img")&&(b=c.getAttribute("img"),Object.assign(a.style,{backgroundImage:`url(${b})`,backgroundRepeat:"no-repeat"}),b=new ResizeObserver(n=>
{const L=n[0].contentRect.height;if(0<L){var J=$(n[0].target);J.hasClass("child-option")?(J=20*(parseInt(J.attr("data-level"))||1),n[0].target.style.setProperty("--image-size",L+8+"px"),Object.assign(n[0].target.style,{backgroundSize:`${L}px`,backgroundPosition:`${J}px center`,paddingLeft:`${J+1.5*L}px`})):Object.assign(n[0].target.style,{backgroundSize:`${L}px`,backgroundPosition:"15px center",paddingLeft:`${2*L}px`})}}),b.observe(a),window._resizeObservers||(window._resizeObservers=new WeakMap),
window._resizeObservers.set(a,b));if(b=c.getAttribute("tag"))d=e.tagStyle||{},k=e.tagMap||{},u={position:"absolute",right:e.pointer?"40px":"30px",top:"50%",transform:"translateY(-50%)",color:d.color||e.tagColor||"#666",fontSize:d.fontSize||"12px",margin:e.tagMargin},d.padding&&(u.padding=d.padding),d.borderRadius&&(u.borderRadius=d.borderRadius),d.fontWeight&&(u.fontWeight=d.fontWeight),k[b]&&(u.backgroundColor=k[b]),d=$("<span>").css(u),e.allowHTML?d.html(b):d.text(b),a.appendChild(d[0]);"checkbox"!==
e.pointer&&!e.pointer?.startsWith("checkbox_")||c.hasAttribute("group")||"true"===c.getAttribute("data-is-group")||a.classList.contains("group-option")||(a.style.position="relative",a.style.paddingRight="40px",b=c.selected||c.hasAttribute("selected"),a.setAttribute("data-checked",b?"true":"false"),d=document.createElement("div"),d.className="custom-checkbox option-checkbox",Object.assign(d.style,{...W(),border:b?`2px solid ${e.checkboxColor}`:`2px solid ${e.buttonColor}`,borderRadius:"3px",backgroundColor:b?
e.checkboxColor:"#fff",zIndex:"2",display:"block",width:e.checkboxSize,height:e.checkboxSize}),b&&(d.innerHTML=E(e.checkboxSize)),a.appendChild(d));"radio"!==e.pointer||h||(a.style.position="relative",a.style.paddingRight="40px",b=document.createElement("div"),b.className="custom-radio",Object.assign(b.style,{...W(),border:`2px solid ${e.buttonColor}`,borderRadius:"50%",backgroundColor:"#fff",zIndex:"2",width:e.radioSize,height:e.radioSize}),(c.selected||c.hasAttribute("selected"))&&(c.value||c.getAttribute("value"))&&
(Object.assign(b.style,{border:`2px solid ${e.radioColor}`}),b.innerHTML=O(e.radioColor,e)),(c.disabled||c.hasAttribute("disabled"))&&Object.assign(b.style,{border:`2px solid ${e.buttonColor}`,backgroundColor:"#f5f5f5",cursor:"not-allowed"}),a.appendChild(b));e.pointer&&e.pointer.startsWith("question_")&&!h&&(b=document.createElement("div"),b.className="custom-question option-question",Object.assign(b.style,e.questionStyle),b.innerHTML="?",a.appendChild(b));e.allowHTML?(b=c.innerHTML,b=b.replace(/\x3c!--([\s\S]*?)--\x3e/g,
(n,L)=>L.trim()),a.insertAdjacentHTML("afterbegin",b)):a.insertAdjacentText("afterbegin",c.textContent);!c.disabled&&!c.hasAttribute("disabled")||h||(a.classList.add("disabled"),fa(a,e.disabledStyle));!c.selected&&!c.hasAttribute("selected")||h||(a.classList.add("selected"),fa(a,e.selectedOptionStyle));ta.appendChild(a)});z.appendChild(ca);V.appendChild(z);V.appendChild(sa);e.scrollColor&&(V.id||(V.id="select-scroll-"+Math.random().toString(36).substr(2,9)),Ba($(V),e));z=S.parentNode;G=S.nextSibling;
S.style.display="none";V.insertBefore(S,V.firstChild);G?z.insertBefore(V,G):z.appendChild(V);S._needsExpandGroup&&(setTimeout(()=>{if($(V).find(`[class*="-option"][data-value="${za.value}"]`).length){const c=za.className?.split(" ")||[],b=new Set;function a(h){if(h&&!b.has(h)){b.add(h);var d=$(V).find(`[data-group="${h}"]`);d.length&&(d.addClass("expanded"),d.find(".custom-group-arrow").css("transform","translateY(-50%) rotate(180deg)"),$(V).find(`.${h}`).show(),(d.attr("class")?.split(" ")||[]).forEach(k=>
{"group-option"!==k&&"expanded"!==k&&a(k)}))}}c.forEach(h=>a(h))}},0),delete S._needsExpandGroup);$(V).data("isTriggeredOnce",!1);!0===e.onclick&&setTimeout(()=>{const c=$(V).find(`.${e.triggerClass}`);$(V).data("isInitialOpen",!0);c.trigger("click")},0);V.setAttribute("data-duration",w);V.setAttribute("data-slide-toggle",e.slideToggle)}});if(!window._gong_tea_yun_2){window._gong_tea_yun_2=!0;let g=!1,B=!1,z=!1,q=!1,G=null,e=!1,S=!1;$(document).on("mousedown",'[class*="-wrapper"], [class*="-trigger"], [class*="-options"], [class*="-option"]',
function(f){f.stopPropagation();z=B=!0;V=!1;e=!0;window._isMouseDown_gong=!0;f=$(this).closest('[class*="-wrapper"]');window._gong_tea_yun_3=f});$(document).on("mouseup",function(f){window._isMouseDown_gong=!1;if(B){var c=z,b=0<$(f.target).closest('[class*="-wrapper"]').length;z=B=!1;c&&S&&b&&(f.stopPropagation(),f.preventDefault(),$(f.target).closest('[class*="-wrapper"]'));window._gong_tea_yun_3=null;S=!1;setTimeout(()=>{e=!1},300)}});$(document).on("keydown",'[class*="-wrapper"], [class*="-trigger"]',
function(f){var c=$(this).closest('[class*="-wrapper"]');if(c.length){var b=c.data("settings");if(b){var a=c.find(`.${b.triggerClass}`),h=c.find(`.${b.optionClass}:not(.disabled)`),d=c.hasClass(b.openClass),k=c.find(`.${b.optionClass}.${b.highlightedClass}`);switch(f.keyCode){case 13:return f.preventDefault(),f.stopPropagation(),d?k.length?k.hasClass("group-option")?k.trigger("click"):(f=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}),c=b.offclick,b.offclick=!1,k[0].dispatchEvent(f),
b.offclick=c):a.trigger("click"):(a.trigger("click"),k.length||h.first().addClass(b.highlightedClass).css("background-color",b.activeBackground)),!1;case 40:case 38:f.preventDefault();f.stopPropagation();f=38===f.keyCode;if(!d)return a.trigger("click"),k.length||h.first().addClass(b.highlightedClass).css("background-color",b.activeBackground),!1;d=c.find(`.${b.optionClass}:not(.disabled)`).filter(function(){return"none"!==$(this).css("display")});a=c.find(`.${b.optionsClass} > div`).first();h=a.height();
a.scrollTop();k.is(":last-child");k.position();k.outerHeight();c.find(`.${b.optionClass}`).removeClass(b.highlightedClass);c.find(`.${b.optionClass}`).each(function(){const u=$(this);if(u.hasClass("selected")&&b.selectedBg){var n=!0===b.selectedBg?rgbToRgba(b.activeBackground,.5):b.selectedBg;u.attr("style",(u.attr("style")||"")+`; background-color: ${n} !important;`);u.css("opacity","1")}else n=(u.attr("style")||"").replace(/background-color:[^;]+;?/g,""),u.attr("style",n)});k.length?(c=d.index(k),
k=f?d.eq(Math.max(0,c-1)):c<d.length-1?d.eq(c+1):k):k=d.first();k.length&&(k.hasClass("selected")&&b.selectedBg?k.css("opacity","0.7"):k.addClass(b.highlightedClass).css("background-color",b.activeBackground),c=k.position().top,d=c+k.outerHeight(),!f&&(d>=h||k.is(":last-child"))?a.scrollTop(d+1-h):f&&(0>=c||k.is(":first-child"))&&a.scrollTop(c));return!1;case 27:return f.preventDefault(),f.stopPropagation(),d&&a.trigger("click"),!1;case 32:return f.preventDefault(),f.stopPropagation(),d||a.trigger("click"),
!1}}}});$(document).on("mouseenter",'[class*="-option"]',function(f){f.stopPropagation();f=$(this);var c=f.closest('[class*="-wrapper"]');const b=c.data("settings");b&&!f.hasClass("disabled")&&(f.hasClass("selected")&&b.selectedBg?f.css("opacity","0.7"):(c.find('[class*="-option"]:not(.disabled)').not(f).each(function(){$(this).removeClass(b.highlightedClass);if($(this).hasClass("selected"))b.selectedBg&&(a=!0===b.selectedBg?rgbToRgba(b.activeBackground,.5):b.selectedBg,$(this).attr("style",($(this).attr("style")||
"")+`; background-color: ${a} !important;`));else{var a=($(this).attr("style")||"").replace(/background-color:[^;]+;?/g,"");$(this).attr("style",a)}}),f.addClass(b.highlightedClass),(f.hasClass("selected")||("checkbox"===b.pointer||b.pointer?.startsWith("checkbox_"))&&"true"===f.attr("data-checked"))&&b.selectedBg?(c=!0===b.selectedBg?rgbToRgba(b.activeBackground,.5):b.selectedBg,f.attr("style",(f.attr("style")||"")+`; background-color: ${c} !important;`)):f.css("background-color",b.activeBackground)))});
$(document).on("mouseleave",'[class*="-option"]',function(){const f=$(this),c=f.closest('[class*="-wrapper"]').data("settings");if(c&&!f.hasClass("disabled")){var b=f.hasClass("selected")||("checkbox"===c.pointer||c.pointer?.startsWith("checkbox_"))&&"true"===f.attr("data-checked");b&&c.selectedBg?f.css("opacity","1"):(f.removeClass(c.highlightedClass),b&&c.selectedBg?(b=!0===c.selectedBg?rgbToRgba(c.activeBackground,.5):c.selectedBg,f.attr("style",(f.attr("style")||"")+`; background-color: ${b} !important;`)):
(b=(f.attr("style")||"").replace(/background-color:[^;]+;?/g,""),f.attr("style",b),setTimeout(()=>{f.hasClass(c.highlightedClass)||f.css("background-color",c.optionsStyle.background||"")},0)))}});let V=!1;$(document).on("mousemove",'[class*="-wrapper"]',function(f){B&&z&&(V=!0)});let ca=null;$(document).on("touchstart",'[class*="-option"]',function(f){ca&&clearTimeout(ca);const c=$(this);q=!0;if(c.hasClass("disabled"))G=null;else{var b=c.closest('[class*="-wrapper"]'),a=b.data("settings");a&&(G=this,
b.find('[class*="-option"]').removeClass(a.highlightedClass),b.find('[class*="-option"]').each(function(){const h=$(this);if(h.hasClass("selected")&&a.selectedBg){var d=!0===a.selectedBg?rgbToRgba(a.activeBackground,.5):a.selectedBg;h.attr("style",(h.attr("style")||"")+`; background-color: ${d} !important;`)}else d=(h.attr("style")||"").replace(/background-color:[^;]+;?/g,""),h.attr("style",d)}),ca=setTimeout(()=>{if(G===this)if(c.hasClass("selected")&&a.selectedBg)c.css("opacity","0.7");else if(c.addClass(a.highlightedClass),
c.hasClass("selected")&&a.selectedBg){const h=!0===a.selectedBg?rgbToRgba(a.activeBackground,.5):a.selectedBg;c.attr("style",(c.attr("style")||"")+`; background-color: ${h} !important;`)}else c.css("background-color",a.activeBackground)},0),f.stopPropagation())}});$(document).on("touchend",function(){if(q){if(G){const f=$(G).closest('[class*="-wrapper"]'),c=f.data("settings");c&&(f.find('[class*="-option"]').removeClass(c.highlightedClass),f.find('[class*="-option"]').each(function(){const b=$(this);
if(b.hasClass("selected")&&c.selectedBg){var a=!0===c.selectedBg?rgbToRgba(c.activeBackground,.5):c.selectedBg;b.attr("style",(b.attr("style")||"")+`; background-color: ${a} !important;`);b.css("opacity","1")}else a=(b.attr("style")||"").replace(/background-color:[^;]+;?/g,""),b.attr("style",a)}))}q=!1;G=null}});$(document).on("touchend",'[class*="-option"]:not(.disabled)',function(f){this===G&&$(this).trigger("click");f.stopPropagation()});$(document).on("click","[data-group]",function(f){function c(r){function F(v){a.find("."+
v).each(function(){var C=$(this);t.add(this);if(C.attr("group")||C.data("group"))C=C.attr("group")||C.data("group"),F(C)})}const t=new Set;r=r.data("group");F(r);return t}f.preventDefault();f.stopPropagation();e=window._isGroupClick=!0;const b=$(this).closest('[class*="-wrapper"]'),a=b.find('[class*="-options"]'),h=a.find("div").first(),d=b.data("settings"),k=parseInt(b.attr("data-duration")),u=m()?a:h,n=m()?u.scrollTop():null,L=()=>{window._heightCache||(window._heightCache=new Map);let r=0;const F=
[];a.find("li, option").each(function(){"none"!==$(this).css("display")&&F.push(this)});F.forEach(t=>{const v=$(t);var C=t.id||v.data("height-id");(t=window._heightCache.get(C))||(t=v.outerHeight(!0),C?window._heightCache.set(C,t):(C="height-"+Math.random().toString(36).substr(2,9),v.data("height-id",C),window._heightCache.set(C,t)));r+=t});requestAnimationFrame(()=>{const t=Math.min(r,d.Mheight),v=d.optionsStyle.background||"#fff";h.css({height:t,overflowY:"auto",WebkitOverflowScrolling:"touch",
backgroundColor:v});a.css({height:t,backgroundColor:v})});1E3<window._heightCache.size&&window._heightCache.clear()},J=$(this).data("group");f=$(this).hasClass("expanded");$(this).toggleClass("expanded");var D=$(this).find(".custom-group-arrow");if(f){D.css("transform","translateY(-50%) rotate(0deg)");f=c($(this));const r={};f.forEach(v=>{v=$(v);const C=v.attr("group")||v.data("group");C&&C!==J&&(r[C]=v.hasClass("expanded"))});$(this).data("childStates",r);const F=new Set(f);f.forEach(v=>{v=$(v);
const C=v.attr("group")||v.data("group");C&&C!==J&&a.find("."+C).filter(function(){const ba=$(this);return(ba.attr("group")||ba.data("group"))!==C}).each(function(){F.add(this)})});const t=Array.from(F);t.forEach(v=>{v=$(v);if(v.attr("group")||v.data("group"))v.removeClass("expanded"),v.find(".custom-group-arrow").css("transform","translateY(-50%) rotate(0deg)");v.css("opacity","0.1")});0<t.length&&$(t).slideUp(k,{useQueue:!1},function(){t.forEach(v=>{$(v).css({opacity:"1",display:"none"})});L()})}else{D.css("transform",
"translateY(-50%) rotate(180deg)");D=a.find("."+J);f=!$(this).closest("li").hasClass(J);const r=$(this).data("childStates"),F=[];D=D.filter(function(){const t=$(this),v=t.attr("group")||t.data("group");return v&&v!==J?(F.push({$element:t,groupName:v,wasExpanded:r&&r[v]||!1}),!1):!0});F.forEach(function(t){t=t.$element;t.show();t.css("opacity","1");t[0]&&t[0].style&&t[0].style.setProperty("opacity","1","important")});D.show();D.hide();0<D.length&&D.css("opacity","0.1").slideDown(k,{useQueue:!1},function(){$(this).css("opacity",
"1");this.style&&this.style.setProperty("opacity","1","important");L()});f&&!m()?(f=0<D.length?D.first().outerHeight():0,D=u[0]||u,u.animate&&"function"===typeof u.animate?u.animate({scrollTop:f},k):D&&"function"===typeof D.scrollTo?D.scrollTo({top:f,behavior:"smooth"}):D&&(D.scrollTop=f)):f&&m()&&null!==n&&setTimeout(()=>{u.scrollTop(n)},k+50);F.forEach(function(t){const v=t.$element,C=t.groupName;t=t.wasExpanded;v.css("opacity","1");v[0]&&v[0].style&&v[0].style.setProperty("opacity","1","important");
t?(v.addClass("expanded").find(".custom-group-arrow").css("transform","translateY(-50%) rotate(180deg)"),a.find("."+C).filter(function(){const ba=$(this);return(ba.attr("group")||ba.data("group"))!==C}).css("opacity","0.1").slideDown(k,{useQueue:!1},function(){$(this).css("opacity","1");this.style&&this.style.setProperty("opacity","1","important");L()})):(v.removeClass("expanded").find(".custom-group-arrow").css("transform","translateY(-50%) rotate(0deg)"),a.find("."+C).filter(function(){const ba=
$(this);return(ba.attr("group")||ba.data("group"))!==C}).hide())})}setTimeout(()=>{e=window._isGroupClick=!1;b.data("groupClicked",!1)},300);return!1});function pa(f,c,b,a){const h=b.pointer.split("_")[1],d=h+"_return";if("function"===typeof window[h]){f[0].setAttribute("data-aun","true");a=f.find("select, ul").first();c=c.index();var k=a.find("option").eq(c);const u=k.val(),n=p(k.html(),1),L=p(k.html());k=k.attr("tag");a=A(R(a[0],c).text);window[h]({value:u,text:n,html:L,tag:k,group:a,index:c});
window[h+"_close"]=function(){const J=$('[data-state="opened"][data-aun="true"]').filter(function(){const C=$(this).data("settings");return C&&C.pointer===`question_${h}`});if(!J.length)return!1;const D=J.data("settings"),r=J.find(`.${D.optionsClass}`),F=parseInt(J.attr("data-duration")),t=m(),v=$(".select-overlay");v.css("background-color","rgba(0, 0, 0, 0)");setTimeout(()=>{v.hide()},F);J[0].removeAttribute("data-aun");J.removeClass(D.openClass);J.attr("data-state","closed");t&&!D.slideToggle?I(r,
F,v,D):M(r,F,D);return!0};window[d]=function(J,D,r){f.data("forcedClose",!0);const F=f.find(`.${b.triggerClass}`),t=f.find(`.${b.optionsClass}`),v=parseInt(f.attr("data-duration")),C=m(),ba=$(".select-overlay");ba.css("background-color","rgba(0, 0, 0, 0)");setTimeout(()=>{ba.hide()},v);var K="";let P=null;"function"===typeof D?P=D:(K=D,P=r);D=J.split(": ")[1];D=f.find("select, ul").first().find(`option[value="${D}"]`);K=K||D.attr("tag");if(b.allowHTML)if(!0===b.tag&&K){D=b.tagStyle||{};r=b.tagMap||
{};const qa={position:"absolute",top:"50%",transform:"translateY(-50%)",color:D.color||b.tagColor||"#666",fontSize:D.fontSize||"12px",right:"radio"===b.pointer||b.pointer.includes("question_")?"40px":"30px",margin:b.tagMargin};D.padding&&(qa.padding=D.padding);D.borderRadius&&(qa.borderRadius=D.borderRadius);D.fontWeight&&(qa.fontWeight=D.fontWeight);r[K]&&(qa.backgroundColor=r[K]);K=$("<span>").css(qa).html(K);F.html(J).append(K)}else F.html(J);else F.text(J);f.attr("data-aun","true");J=$("<div>").addClass("custom-question trigger-question").css({...b.questionStyle,
border:`2px solid ${b.questionColor}`,backgroundColor:b.questionColor,width:b.questionSize,height:b.questionSize}).html(`<span style="color: white; font-size: calc(${b.questionSize} * 0.6);">\u2713</span>`);F.append(J);f.removeClass(b.openClass);f.attr("data-state","closed");C&&!b.slideToggle?I(t,v,ba,b):t.slideUp(v,{easing:b.easing});"function"===typeof P&&P();delete window[d];return!0}}return!1}function ha(f,c,b,a){if(!c.hasClass(b.optionClass)||c.data("processing"))return!1;c.data("processing",
!0);try{a.stopImmediatePropagation();a.preventDefault();let h=c.find(".custom-checkbox");const d=c[0].getBoundingClientRect(),k=a.clientX||a.originalEvent?.touches?.[0]?.clientX,u=a.clientY||a.originalEvent?.touches?.[0]?.clientY,n=c.hasClass("group-option")||c.attr("data-group")||c.data("group");if(!(h.length&&h[0]||n)){c.css({position:"relative",paddingRight:"40px"});const K=document.createElement("div");K.className="custom-checkbox option-checkbox";const P="true"===c.attr("data-checked");Object.assign(K.style,
{...W(),border:P?`2px solid ${b.checkboxColor}`:`2px solid ${b.buttonColor}`,borderRadius:"3px",backgroundColor:P?b.checkboxColor:"#fff",zIndex:"2",display:"block",width:b.checkboxSize,height:b.checkboxSize});P&&(K.innerHTML=E(b.checkboxSize));c.append(K);h=c.find(".custom-checkbox")}if(!(k>=d.left-1&&k<=d.right+1&&u>=d.top-1&&u<=d.bottom+1))return c.data("processing",!1),!1;const L="true"===c.attr("data-checked"),J=f.find('[data-checked="true"]').get(),D=(a=!L)?J.length+1:J.length-1,r=f.find("select").first(),
F=c.index(),t=r.find("option").eq(F),v={value:t.val(),text:p(t.html(),1),html:p(t.html()),tag:t.attr("tag"),checked:a,index:F,count:D,group:A(R(r[0],F).text)};if(b.pointer?.startsWith("checkbox_")){const K=b.pointer.split("checkbox_")[1];if("function"===typeof window[K]&&!1===window[K](v))return c.data("processing",!1),!1}c.attr("data-checked",a.toString());f.attr("data-check-count",D);function C(K,P,qa){return{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",width:`calc(${K} + ${4}px)`,
height:`calc(${K} + ${4}px)`,borderRadius:"3px",border:`${2}px solid ${qa?P:b.buttonColor}`,backgroundColor:qa?P:"#fff",WebkitTapHighlightColor:"transparent",display:"block",zIndex:"2",boxSizing:"border-box",padding:"0"}}if(!(h.length&&h[0]||n)){c.css({position:"relative",paddingRight:"40px"});const K=document.createElement("div");K.className="custom-checkbox option-checkbox";Object.assign(K.style,{...W(),borderRadius:"3px",zIndex:"2",display:"block",width:b.checkboxSize,height:b.checkboxSize});c.append(K);
h=c.find(".custom-checkbox")}const ba=f.find(`.${b.triggerClass}`).find(".custom-checkbox");a?(h.css(C(b.checkboxSize,b.checkboxColor,!0)).html(E(b.checkboxSize)),0<D&&ba.css(C(b.checkboxSize,b.checkboxColor,!0)).html(ja(D,b.checkboxSize))):(h.css(C(b.checkboxSize,b.buttonColor,!1)).empty(),0===D?ba.css(C(b.checkboxSize,b.buttonColor,!1)).empty():ba.css(C(b.checkboxSize,b.checkboxColor,!0)).html(ja(D,b.checkboxSize)));if(b.selectedBg){const K=!0===b.selectedBg?rgbToRgba(b.activeBackground,.5):b.selectedBg;
$("#dynamic-selected-bg-style").length||$("head").append(`<style id="dynamic-selected-bg-style">.selected-bg-active { background-color: ${K} !important; }</style>`);f.find(`.${b.optionClass}`).each(function(){const P=$(this);"true"===P.attr("data-checked")?(P.addClass("selected").addClass("selected-bg-active"),P[0].style.setProperty("background-color",K,"important")):(P.removeClass("selected").removeClass("selected-bg-active"),P[0].style.removeProperty("background-color"));P.css("font-weight","normal")})}else a?
(c.addClass("selected"),c.css("font-weight","bold")):(c.removeClass("selected"),c.css("font-weight","normal"));if(b.closeBox){const K=$(".select-overlay");K.css("pointer-events","none").hide();setTimeout(()=>{K.css("pointer-events","");c.data("processing",!1)},50)}else{const K=parseInt(f.attr("data-duration")),P=f.find(`.${b.optionsClass}`),qa=m(),xa=$(".select-overlay");qa&&!b.slideToggle?U(P,K,xa,f,b):(f.removeClass(b.openClass),xa.css("pointer-events","none").hide(),K?P.slideUp(K,{easing:b.easing,
complete:()=>{setTimeout(()=>{xa.css("pointer-events","");c.data("processing",!1)},50)}}):(P.hide(),xa.css("pointer-events",""),setTimeout(()=>{c.data("processing",!1)},50)))}return!1}catch(h){return console.error("[handleCheckboxPointer] \uc5d0\ub7ec \ubc1c\uc0dd:",h),c.data("processing",!1),!1}finally{setTimeout(()=>{c.data("processing")&&(console.warn("[handleCheckboxPointer] \ud50c\ub798\uadf8 \uac15\uc81c \ud574\uc81c"),c.data("processing",!1))},1E3)}}function za(f,c,b){const a=f.find(`.${b.triggerClass}`),
h=parseInt(f.attr("data-selected-index"));let d=a.find(".custom-radio");d.length?d=d[0]:(d=document.createElement("div"),d.className="custom-radio trigger-radio");Object.assign(d.style,{...W(),border:void 0!==c?`2px solid ${b.radioColor}`:`2px solid ${b.buttonColor}`,borderRadius:"50%",backgroundColor:"#fff",width:b.radioSize,height:b.radioSize});d.innerHTML=void 0!==c?O(b.radioColor,b):"";f.find(".custom-radio").not(".trigger-radio").each(function(){const u=$(this).closest('[class*="-option"]');
var n=u.attr("data-value");const L=u.index();n=n===c&&L===h;Object.assign(this.style,{border:n?`2px solid ${b.radioColor}`:`2px solid ${b.buttonColor}`,backgroundColor:"#fff"});n?(this.innerHTML=O(b.radioColor,b),u.addClass("selected"),b.selectedBg||u.css("font-weight","bold")):(this.innerHTML="",u.removeClass("selected").css("font-weight","normal"))});a.find(".custom-radio").remove();a.append(d);var k=f.find("select").first();f=k.find("option").eq(h);f.length&&(k=R(k[0],h),f.html().replace(/\x3c!--(.*?)--\x3e/g,
"$1").trim(),a.html(k.text+d.outerHTML));domqueryFocus()}function da(f,c){f.attr("data-selected-value","");f.attr("data-selected-index","-1");const b=f.find(`.${c.triggerClass}`),a=f.find("select, ul").first();var h=a.find("option").first();h=c.allowHTML?h.html():h.text();b.find(".custom-radio").remove();const d=document.createElement("div");d.className="custom-radio trigger-radio";Object.assign(d.style,{...W(),border:`2px solid ${c.buttonColor}`,borderRadius:"50%",backgroundColor:"#fff",width:c.radioSize,
height:c.radioSize});c.allowHTML?b.html(h+d.outerHTML):(b.text(h),b.append(d));f.find(".custom-radio").not(".trigger-radio").each(function(){const k=$(this).closest(`.${c.optionClass}`);$(this).css({border:`2px solid ${c.buttonColor}`,backgroundColor:"#fff"}).empty();k.removeClass("selected").css("font-weight","normal");c.selectedBg&&k.removeClass("selected-bg-active").css("background-color","")});a.find("option").prop("selected",!1);ka(f)}function na(f,c){f.attr("data-check-count","0");f.find(`.${c.triggerClass}`).find(".custom-checkbox").css({border:`2px solid ${c.buttonColor}`,
backgroundColor:"#fff"}).empty();f.find(".custom-checkbox").not(".trigger-checkbox").each(function(){const b=$(this).closest(`.${c.optionClass}`);b.attr("data-checked","false");$(this).css({border:`2px solid ${c.buttonColor}`,backgroundColor:"#fff"}).empty();c.selectedBg&&b.removeClass("selected-bg-active").css("background-color","")});ka(f)}function ka(f){const c=f.find('[class*="-options"]');parseInt(f.attr("data-duration"));c.find("[data-group]").each(function(){const b=$(this),a=b.find(".custom-group-arrow"),
h=b.data("group");b.hasClass("expanded")&&(b.removeClass("expanded"),a.css("transform","translateY(-50%) rotate(0deg)"));c.find("."+h).each(function(){const d=$(this);if(d.attr("group")||d.data("group"))d.removeClass("expanded"),d.find(".custom-group-arrow").css("transform","translateY(-50%) rotate(0deg)");d.hide()})})}function sa(f,c){const b=["custom-checkbox","custom-radio","custom-question","custom-dot"];Array.from(f.childNodes).forEach(h=>{(h.nodeType===Node.TEXT_NODE||h.nodeType===Node.ELEMENT_NODE&&
!b.some(d=>h.classList.contains(d)))&&h.remove()});c=document.createTextNode(c.replace(/<[^>]*>/g,""));const a=Array.from(f.childNodes).find(h=>h.nodeType===Node.ELEMENT_NODE&&b.some(d=>h.classList.contains(d)));a?f.insertBefore(c,a):f.appendChild(c)}function ta(f,c){const b=f.find(`.${c.triggerClass}`),a=f.find("select, ul").first().find("li, option").first().html(),h="checkbox"===c.pointer||c.pointer?.startsWith("checkbox_");b.css({backgroundImage:"none",backgroundSize:"initial",backgroundPosition:"initial",
backgroundRepeat:"no-repeat",...(h?{}:{paddingLeft:c.defaultPadding||"10px"})});if(window._triggerResizeObservers){const d=window._triggerResizeObservers.get(b[0]);d&&(d.disconnect(),window._triggerResizeObservers.delete(b[0]))}h?sa(b[0],a):b.html(a);c.selectedBg&&f.find(`.${c.optionClass}`).each(function(){$(this).removeClass("selected-bg-active").css("background-color","")});ka(f)}function ua(f,c,b){const a=f.find("select, ul").first();c=c.find(`.${b.optionClass}`).first();if("checkbox"===b.pointer||
b.pointer?.startsWith("checkbox_"))c.hide();else if("radio"===b.pointer)-1<parseInt(f.attr("data-selected-index")||"-1")?c.show():c.hide();else{b=f.attr("data-selected-value");const h=parseInt(f.attr("data-selected-index"));0<a.find("option[group]").length?-1===h&&void 0===b||0===h&&(!b||""===b)?(c.hide(),ka(f)):c.show():(-1!==h||b&&""!==b)&&(0!==h||b&&""!==b)?c.show():c.hide()}}$(document).on("click",'[class*="-option"]',function(f){f.stopPropagation();wa=3;var c=$(this);const b=c.closest('[class*="-wrapper"]'),
a=b.data("settings");if(a&&c.hasClass(a.optionClass)){if(b.data("optionClickProcessing"))return!1;b.data("optionClickProcessing",!0);setTimeout(()=>{b.removeData("optionClickProcessing")},500);var h=b.find("select, ul").first(),d=c.attr("value")||c.attr("data-value"),k=c.index();c.hasClass("selected")&&"checkbox"!==a.pointer&&!a.pointer?.startsWith("checkbox_")&&(c.removeClass("selected"),c.removeClass(a.highlightedClass),c.removeClass("selected-bg-active"),c.css("font-weight","normal"),a.selectedBg&&
c[0].style.removeProperty("background-color"),c[0].classList.remove("selected"),c[0].classList.remove(a.highlightedClass),c[0].classList.remove("selected-bg-active"));b.attr("data-current-index",k);if((c.attr("group")||c.attr("data-group"))&&!c.attr("value"))return f.preventDefault(),b.data("groupClicked",!0),!1;b.data("groupClicked",!1);"undefined"!==typeof V&&V&&(V=!1);V=!1;if("undefined"!==typeof g&&g)f.preventDefault(),f.stopPropagation(),b.removeData("optionClickProcessing");else{if(c.hasClass("disabled"))return f.preventDefault(),
b.removeData("optionClickProcessing"),!1;if(a.pointer&&a.pointer.startsWith("question_")&&(f.preventDefault(),f.stopPropagation(),!1===pa(b,c,a,f)))return b.removeData("optionClickProcessing"),!1;if(0===c.index()||""===c.attr("data-value")||!c.attr("data-value"))switch(a.pointer){case "radio":da(b,a);break;case "checkbox":na(b,a);break;default:ta(b,a)}0<h.find("option[group]").length&&0===k&&(!d||""===d)&&ka(b);if("radio"!==a.pointer||0!==k&&d&&""!==d){if("checkbox"===a.pointer||a.pointer?.startsWith("checkbox_"))return f.preventDefault(),
f.stopPropagation(),f.stopImmediatePropagation(),d=ha(b,c,a,f),b.removeData("optionClickProcessing"),d;if(0===k&&(!d||""===d)){if(b.data("processingReset"))return!1;b.data("processingReset",!0);try{b.attr("data-selected-value","");b.attr("data-selected-index","-1");var u=h[0];const C=h.find("li, option").first().html();var n=h.find("option").eq(0);const ba=b.find(`.${a.triggerClass}`);if("checkbox"===a.pointer||a.pointer?.startsWith("checkbox_")){const K=a.allowHTML?C:h.find("li, option").first().text();
sa(ba[0],K)}else a.allowHTML?ba.html(C):ba.text(h.find("li, option").first().text());h.find("option, li").prop("selected",!1);C&&h.find("option").eq(0).prop("selected",!0);b.find('[class*="-option"]').removeClass("selected").removeClass(a.highlightedClass).css("font-weight","normal");a.dot&&b.find(".custom-dot").each(function(){Object.assign(this.style,{...a.dotStyle,border:`2px solid ${a.buttonColor}`,backgroundColor:"#fff"})});if(u._selectId){n.html().replace(/\x3c!--(.*?)--\x3e/g,"$1").trim();
k=function(K,P=0){return 1===P?K.replace(/\x3c!--(.*?)--\x3e/g,"$1").replace(/<[^>]*>/g,""):K.replace(/\x3c!--(.*?)--\x3e/g,"$1")};d="";try{if("function"===typeof R){const K=R(u,0);K&&(d=K.text)}}catch(K){console.warn("Error in findGroupPath:",K)}var L={value:"",text:k(n.html(),1),html:k(n.html()),tag:n.attr("tag"),element:n[0],select:u,index:0,group:function(K){const P=document.createElement("div");P.innerHTML=K;return P.textContent||P.innerText||""}(d)},J=window._gong_tea_yun_0.get(u._selectId+
"_callback");J&&J.call(this,L);var D=window._gong_tea_yun_0.get(u._selectId+"_onSelect");D&&D.call(this,L);h.trigger("change")}var r=parseInt(b.attr("data-duration"))||0,F=b.find(`.${a.optionsClass}`);m()&&!a.slideToggle?U(F,r,$(".select-overlay"),b,a):(b.removeClass(a.openClass),b.attr("data-state","closed"),F.slideUp(r,{easing:a.easing,complete:function(){setTimeout(()=>{b.removeData("processingReset")},100)}}))}catch(C){console.error("Reset error:",C),b.removeData("processingReset")}return!1}u=
b.find("select").first()[0];b.find('[class*="-option"]').each(function(C){C=$(this);C.removeClass("selected").removeClass(a.highlightedClass).removeClass("selected-bg-active").css("font-weight","normal");this.classList.remove("selected");this.classList.remove(a.highlightedClass);this.classList.remove("selected-bg-active");a.selectedBg&&this.style.removeProperty("background-color");"radio"===a.pointer&&C.find(".custom-radio").removeClass("selected")});c.addClass("selected").addClass(a.highlightedClass);
a.selectedBg?(c.addClass("selected-bg-active"),n=!0===a.selectedBg?rgbToRgba(a.activeBackground,.5):a.selectedBg,$("#dynamic-selected-bg-style").length||$("head").append(`<style id="dynamic-selected-bg-style">.selected-bg-active { background-color: ${n} !important; }</style>`),c[0].style.setProperty("background-color",n,"important"),c.css("font-weight","normal")):c.css("font-weight","bold");"radio"===a.pointer&&c.find(".custom-radio").addClass("selected");a.dot&&(b.find(".custom-dot").each(function(){Object.assign(this.style,
a.dotStyle)}),c.find(".custom-dot").css(a.dotSelectedStyle));(d||""===d)&&b.attr({"data-selected-value":d,"data-selected-index":k});h.find("option").prop("selected",!1);h.find("option").eq(k).prop("selected",!0);h.trigger("change");if(u._selectId){h=h.find("option").eq(k);c=R(u,k);n=b.find(`.${a.triggerClass}`);n.empty();if(h.attr("img"))r=h.attr("img"),Object.assign(n[0].style,{backgroundImage:`url(${r})`,backgroundRepeat:"no-repeat"}),r=new ResizeObserver(C=>{const ba=C[0].contentRect.height;0<
ba&&Object.assign(C[0].target.style,{backgroundSize:`${ba}px`,backgroundPosition:`${ba/2}px center`,paddingLeft:`calc(${2*ba}px)`})}),r.observe(n[0]),window._triggerResizeObservers||(window._triggerResizeObservers=new WeakMap),(F=window._triggerResizeObservers.get(n[0]))&&F.disconnect(),window._triggerResizeObservers.set(n[0],r);else if(Object.assign(n[0].style,{backgroundImage:"none",backgroundPosition:"initial",backgroundSize:"initial",paddingLeft:a.defaultPadding||"10px"}),window._triggerResizeObservers&&
(r=window._triggerResizeObservers.get(n[0])))r.disconnect(),window._triggerResizeObservers.delete(n[0]);a.allowHTML?n.html(c.text):n.text(c.text);"radio"===a.pointer&&(b.attr({"data-selected-value":d,"data-selected-index":k}),za(b,d,a));r=h.attr("tag")||"";!0===a.tag&&r&&(F=document.createElement("span"),L=a.tagStyle||{},J=a.tagMap||{},D={position:"absolute",top:"50%",transform:"translateY(-50%)",color:L.color||a.tagColor||"#666",fontSize:L.fontSize||"12px",right:"radio"===a.pointer?"40px":"30px",
margin:a.tagMargin},L.padding&&(D.padding=L.padding),L.borderRadius&&(D.borderRadius=L.borderRadius),L.fontWeight&&(D.fontWeight=L.fontWeight),J[r]&&(D.backgroundColor=J[r]),Object.assign(F.style,D),a.allowHTML?F.innerHTML=r:F.textContent=r,n.append(F));d={value:d,text:p(h.html(),1),html:p(h.html()),tag:r,element:h[0],select:u,index:k,group:A(c.text)};(k=window._gong_tea_yun_0.get(u._selectId+"_callback"))&&k.call(this,d);(k=window._gong_tea_yun_0.get(u._selectId+"_onSelect"))&&k.call(this,d)}b.removeData("optionClickProcessing");
d=parseInt(b.attr("data-duration"))||0;k=b.find(`.${a.optionsClass}`);var t=$(".select-overlay"),v=function(){b.find('[class*="-option"]').removeClass("selected");[50,100,200].forEach(C=>{setTimeout(()=>{const ba=b.find('[class*="-option"].selected');0<ba.length&&ba.removeClass("selected")},C)})};m()&&!a.slideToggle?(U(k,d,t,b,a),v()):(b.removeClass(a.openClass),b.attr("data-state","closed"),t.css("background-color","rgba(0, 0, 0, 0)"),a.slideToggle&&void 0!==a.opacity?k.css("opacity",a.opacity||
0):k.css("opacity",""),k.slideUp(d,{easing:a.easing,complete:function(){t.hide();y(b);domqueryFocus();v()}}))}else da(b,a),d=parseInt(b.attr("data-duration"))||0,k=b.find(`.${a.optionsClass}`),m()&&!a.slideToggle?U(k,d,$(".select-overlay"),b,a):(b.removeClass(a.openClass),k.slideUp(d,{easing:a.easing})),b.removeData("optionClickProcessing")}}});$(document).on("click",'[class*="-trigger"]',function(f){function c(r){function F(){D||(D=!0,b.data("isInitialOpen")&&b.removeData("isInitialOpen"),a.trigger&&
domquery(a.trigger).trigger("click"),a.triggerOnce&&!b.data("isTriggeredOnce")&&(domquery(a.triggerOnce).trigger("click"),b.data("isTriggeredOnce",!0)))}r=m();var t=b.find("select").first()[0];t._selectId&&(t=window._gong_tea_yun_0.get(t._selectId+"_open"))&&t.call(this);ua(b,d,a);const v=parseInt(b.attr("data-selected-index")),C=b.attr("data-selected-value");t=C;let ba=v;const K=b.find('[class*="-option"].selected').first();K.length&&!t&&0>=ba&&(t=K.attr("value")||K.attr("data-value"),ba=K.index());
if(0<ba||t){var P;t?P=d.find(`[value="${t}"], [data-value="${t}"]`):0<ba&&(P=d.find(`.${a.optionClass}`).eq(ba));if(P&&P.length&&(P=(P.attr("class")?.split(" ")||[]).filter(N=>N!==a.optionClass&&"selected"!==N&&N!==a.highlightedClass),0<P.length)){const N=new Set,Q=ea=>{if(ea&&!N.has(ea)){N.add(ea);var X=d.find(`[data-group="${ea}"]`);X.length&&(X.addClass("expanded"),X.find(".custom-group-arrow").css("transform","translateY(-50%) rotate(180deg)"),d.find(`.${ea}`).show(),(X.attr("class")?.split(" ")||
[]).forEach(oa=>{"group-option"!==oa&&"expanded"!==oa&&Q(oa)}))}};P.forEach(ea=>Q(ea));P=d.css("display");d.css("display","block");d.outerHeight(!0);d.css("display",P)}}const qa=()=>{if(("checkbox"===a.pointer||a.pointer?.startsWith("checkbox_"))&&a.selectedBg){const N=!0===a.selectedBg?rgbToRgba(a.activeBackground,.5):a.selectedBg;$("#dynamic-selected-bg-style").length||$("head").append(`<style id="dynamic-selected-bg-style">.selected-bg-active { background-color: ${N} !important; }</style>`);b.find('[data-checked="true"]').each(function(){const Q=
$(this);Q.addClass("selected").addClass("selected-bg-active");Q[0].style.setProperty("background-color",N,"important");Q.css("font-weight","normal")});b.find(`.${a.optionClass}`).not('[data-checked="true"]').each(function(){const Q=$(this);Q.removeClass("selected").removeClass("selected-bg-active");Q[0].style.removeProperty("background-color");Q.css("font-weight","normal")})}},xa=()=>{var N=C;let Q=v;const ea=b.find('[class*="-option"].selected').first();ea.length&&!N&&0>=Q&&(N=ea.attr("value")||
ea.attr("data-value"),Q=ea.index(),(N||0<Q)&&b.attr({"data-selected-value":N||"","data-selected-index":Q}));b.find('[class*="-option"]').each(function(){const X=$(this);X.removeClass("selected").removeClass(a.highlightedClass).removeClass("selected-bg-active").css("font-weight","normal");a.selectedBg&&X[0].style.removeProperty("background-color");this.classList.remove("selected");this.classList.remove(a.highlightedClass);this.classList.remove("selected-bg-active")});if(0<Q||N){let X;N?X=d.find(`[value="${N}"], [data-value="${N}"]`):
0<Q&&(X=d.find(`.${a.optionClass}`).eq(Q));if(X&&X.length){N=(X.attr("class")?.split(" ")||[]).filter(ia=>ia!==a.optionClass&&"selected"!==ia&&ia!==a.highlightedClass);const oa=new Set,Aa=ia=>{if(ia&&!oa.has(ia)){oa.add(ia);var va=d.find(`[data-group="${ia}"]`);va.length&&(va.addClass("expanded"),va.find(".custom-group-arrow").css("transform","translateY(-50%) rotate(180deg)"),d.find(`.${ia}`).show(),(va.attr("class")?.split(" ")||[]).forEach(la=>{"group-option"!==la&&"expanded"!==la&&Aa(la)}))}};
N.forEach(ia=>Aa(ia));X.addClass("selected").addClass(a.highlightedClass);X[0].classList.add("selected");X[0].classList.add(a.highlightedClass);a.selectedBg?(N=!0===a.selectedBg?rgbToRgba(a.activeBackground,.5):a.selectedBg,X.attr("style",(X.attr("style")||"")+`; background-color: ${N} !important;`)):X.css("font-weight","bold");if(a.selectedBg){const ia=!0===a.selectedBg?rgbToRgba(a.activeBackground,.5):a.selectedBg;setTimeout(()=>{X.attr("style",(X.attr("style")||"")+`; background-color: ${ia} !important;`)},
50);setTimeout(()=>{X.attr("style",(X.attr("style")||"")+`; background-color: ${ia} !important;`)},200)}void 0!==a.autoScrollToSelected&&a.autoScrollToSelected&&(N=parseInt(b.attr("data-duration"))||300,setTimeout(()=>{d.find("div").first().length&&X.length&&X[0]&&"function"===typeof X[0].scrollIntoView&&X[0].scrollIntoView({block:"center",behavior:"smooth"})},N))}else qa()}qa()};window.requestAnimationFrame?requestAnimationFrame(()=>{requestAnimationFrame(xa)}):setTimeout(xa,0);"radio"===a.pointer&&
(P=b.find(".trigger-radio"),P.length&&(Object.assign(P[0].style,{border:`2px solid ${a.buttonColor}`,backgroundColor:"#fff",width:a.radioSize,height:a.radioSize}),P[0].innerHTML=""));$('[class*="-wrapper"]').not(b).each(function(){const N=$(this),Q=N.data("settings");if(Q){if(Q.pointer&&Q.pointer.startsWith("question_")&&"true"===N.attr("data-aun")){var ea=Q.pointer.split("_")[1];if("function"===typeof window[ea+"_close"])return window[ea+"_close"](),domqueryFocus(),!1}ea=N.find(`.${Q.optionsClass}`);
if(ea.is(":visible")){const X=parseInt(N.attr("data-duration"));N.removeClass(Q.openClass).attr("data-state","closed");X?Q.slideToggle?ea.css("opacity",Q.opacity||0).slideUp(X,{easing:a.easing}):ea.slideUp(X,{easing:a.easing}):(Q.slideToggle&&ea.css("opacity",Q.opacity||0),ea.hide())}}});b.addClass(a.openClass);b.attr("data-state","opened");ma(b.find('[class*="-option"]'));P=!0===a.slideToggle;if(!P&&(t=Z(b,d),d.css(t),a._hasBeenShown=!0,!r)){let N=null;const Q="scroll.select-"+(b.find("select").first()[0]._selectId||
"default"),ea=x(function(){d.is(":visible")?(N&&cancelAnimationFrame(N),N=requestAnimationFrame(function(){const X=Z(b,d),oa={};void 0!==X.top&&(oa.top=X.top);void 0!==X.bottom&&(oa.bottom=X.bottom);void 0!==X.left&&(oa.left=X.left);0<Object.keys(oa).length&&d.css(oa)})):(N&&(cancelAnimationFrame(N),N=null),ea.cancel&&ea.cancel(),$(window).off(Q))},16);$(window).off(Q).on(Q,ea)}P?(r=a.optionStyle.backgroundColor||a.optionsStyle.background,d.css({opacity:a.opacity||0,"background-color":r}),d.find("div").first().css("background-color",
r),d.find(`.${a.optionClass}`).css("background-color",r),d.css("will-change","height, opacity"),d.slideDown(k,{easing:a.easing,complete:function(){d.css("will-change","");F()}})):(()=>new Promise(N=>{const Q=b.parent();Q.find(".select-overlay").length?N(Q.find(".select-overlay")):(Q.append('<div class="select-overlay"></div>'),setTimeout(()=>{const ea=Q.find(".select-overlay");N(ea)},0))}))().then(N=>{window._selectCloseTimer&&clearTimeout(window._selectCloseTimer);g=!0;N.off("click.selectOverlay");
if(!b.data("groupClicked")){var Q=b.find("select, ul").first()[0]._selectId;Q&&m()&&!a.slideToggle&&domquery(this).historyOn("select-"+Q,ia=>{wa=2;if(0===ia){wa=1;const va="undefined"!==typeof $&&$.isMobile?$.isMobile():{isMobile:!1};ia=$('[class*="-wrapper"][class*="open"]').filter(function(){const la=$(this).data("settings");return la&&!la.slideToggle&&!0===va.isMobile});ia.length&&ia.each(function(){const la=$(this),ra=la.data("settings"),Ea=la.find(`.${ra.optionsClass}`),Fa=parseInt(la.attr("data-duration")),
Ca=$(".select-overlay");y(la);if("radio"===ra.pointer){const Ga=la.attr("data-selected-value"),Ha=parseInt(la.attr("data-selected-index")),Da=la.find(".trigger-radio");void 0!==Ga&&0<=Ha&&(Object.assign(Da[0].style,{border:`2px solid ${ra.radioColor}`,backgroundColor:"#fff",width:ra.radioSize,height:ra.radioSize}),Da.html(O(ra.radioColor,ra)))}Ca.css({"background-color":"rgba(0, 0, 0, 0)"});Ea.slideUp(Fa,{easing:ra.easing,complete:function(){Ca.hide();domqueryFocus();la.removeClass(ra.openClass);
la.attr("data-state","closed")}})})}})}d.css({visibility:"visible",opacity:0});var ea=Z(b,d);Q=a.optionsStyle.background||"#fff";N.css({position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0)",zIndex:999,display:"block",transition:"background-color 0.3s ease",pointerEvents:"auto",touchAction:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"});const X=g&&!a.slideToggle?1E4:1E3;ea={...ea};ea.hasOwnProperty("left")||(ea.left=
"");d.css({...ea,opacity:1,display:"none",backgroundColor:Q,height:a.height||"auto",Mheight:a.Mheight||"60vh",minHeight:a.minHeight||"auto",maxHeight:a.maxHeight||(g?a.Mheight||"60vh":a.height||"300px"),overflowY:"auto",zIndex:X});""===ea.left&&d.css("left","");d.find("div").first().css("background-color",Q);d.find(`.${a.optionClass}`).css("background-color",Q);let oa=!1,Aa=!0;domquery(d).slideDown(k,{easing:a.easing,complete:()=>{F();g=Aa=!1}});setTimeout(()=>{N.css("background-color","rgba(0, 0, 0, 0)")},
0);N.on("click.selectOverlay",function(ia){if(oa||Aa)return!1;wa=2;const va=b.find(`.${a.triggerClass}`);va.css("pointer-events","none");oa=!0;ia.preventDefault();ia.stopPropagation();N.off("click.selectOverlay");if("radio"===a.pointer){ia=b.attr("data-selected-value");const la=parseInt(b.attr("data-selected-index")),ra=b.find(".trigger-radio");void 0===ia&&-1===la?ra.css({border:`2px solid ${a.buttonColor}`,backgroundColor:"#fff",width:a.radioSize,height:a.radioSize}).html(""):void 0!==ia&&0<=la&&
ra.css({border:`2px solid ${a.radioColor}`,backgroundColor:"#fff",width:a.radioSize,height:a.radioSize}).html(O(a.radioColor,a))}N.css("background-color","rgba(0, 0, 0, 0)");window._selectCloseTimer=setTimeout(()=>{N.hide();d.hide();a.slideToggle||d.css({top:"-9999px",left:"-9999px",visibility:"hidden"});b.removeClass(a.openClass);b.attr("data-state","closed");b.data("groupClicked",!1);e=oa=g=!1;setTimeout(()=>{va.css("pointer-events","auto")},0)},k)});setTimeout(()=>{b.data("groupClicked",!1)},k)});
setTimeout(function(){u.css({"pointer-events":"",opacity:""})},k||0)}f.stopPropagation();const b=$(this).closest('[class*="-wrapper"]'),a=b.data("settings");if(a){var h=$(".select-overlay");h.length&&h.is(":visible")&&h.css("pointer-events","none").hide();var d=b.find(`.${a.optionsClass}`),k=parseInt(b.attr("data-duration"));h=d.is(":visible");var u=$('[class*="-option"]'),n=$('[class*="-wrapper"]').not(b).filter(function(){return $(this).find('[class*="-options"]').is(":visible")});if(h&&!a.offclick){h=
parseInt(b.attr("data-duration"));if("radio"===a.pointer){n=b.attr("data-selected-value");var L=parseInt(b.attr("data-selected-index")),J=b.find(".trigger-radio");void 0!==n&&0<=L&&(Object.assign(J[0].style,{border:`2px solid ${a.radioColor}`,backgroundColor:"#fff",width:a.radioSize,height:a.radioSize}),J.html(O(a.radioColor,a)))}m()&&!a.slideToggle?U(d,h,$(".select-overlay"),b,a):(b.removeClass(a.openClass),b.attr("data-state","closed"),h?a.slideToggle?d.css({opacity:a.opacity||0,"will-change":"height, opacity"}).slideUp(h,
{easing:a.easing,complete:function(){d.css("will-change","");domqueryFocus()}}):d.css("will-change","height, opacity").slideUp(h,{easing:a.easing,complete:function(){d.css("will-change","");domqueryFocus()}}):(d.hide(),domqueryFocus()));return!1}if(0<n.length)return n.each(function(){const r=$(this),F=r.data("settings");if(F){var t=r.find(`.${F.optionsClass}`),v=parseInt(r.attr("data-duration"));r.removeClass(F.openClass).attr("data-state","closed");m()&&!F.slideToggle?U(t,v||0,$(".select-overlay"),
r,F):v?F.slideToggle?t.css("opacity",F.opacity||0).slideUp(v,{easing:F.easing}):t.slideUp(v,{easing:F.easing}):t.hide()}}),!1;if(a.pointer&&a.pointer.startsWith("question_")){n=a.pointer.split("_")[1];L=b[0].hasAttribute("data-aun");J=b.find("select").first();const r=parseInt(b.attr("data-current-index")),F=J.find("option").eq(r);J={value:F.val(),text:p(F.html(),1),html:p(F.html()),tag:F.attr("tag"),group:A(R(J[0],r).text),index:r};if(L&&(f.preventDefault(),f.stopPropagation(),"function"===typeof window[n+
"_cancel"]))return window[n+"_reset"]=function(){const t=b.find(`.${a.triggerClass}`);var v=b.find("select, ul").first();v.find("option, li").first().prop("selected",!0);v=v.find("option, li").first().text();t.text(v);v=document.createElement("div");v.className="custom-question trigger-question";Object.assign(v.style,{...a.questionStyle,width:a.questionSize,height:a.questionSize,fontSize:`calc(${a.questionSize} * 0.6)`});v.innerHTML="?";t.append(v);b.removeClass(a.openClass);b[0].removeAttribute("data-aun")},
window[n+"_cancel"](J),!1;b.find(`.${a.optionClass}`).each(function(){const t=$(this);t.find(".custom-question, .custom-group-arrow").remove();if(t.hasClass("group-option")){var v=document.createElement("div");v.className="custom-group-arrow";const ba=aa(a);let K=ba.arrowSizeValue;var C=ba.arrowRightValue;Object.assign(v.style,{position:"absolute",right:C,top:"50%",transform:"translateY(-50%) rotate(0deg)",width:"0",height:"0",borderLeft:`${K} solid transparent`,borderRight:`${K} solid transparent`,
borderTop:`${K} solid ${ba.arrowColorValue}`,transition:"all 0.3s ease"});t.append(v);v=parseFloat(K);C=parseFloat(C);isNaN(v)||isNaN(C)||t[0].style.setProperty("padding-right",`${2*v+C+10}px`,"important")}else C=document.createElement("div"),C.className="custom-question option-question",Object.assign(C.style,a.questionStyle),C.innerHTML=`<span style="font-size: calc(${a.questionSize} * 0.6);">?</span>`,t.append(C)})}n=$('[class*="-wrapper"][class*="open"]').filter(function(){const r=$(this).data("settings");
return r&&r.pointer&&r.pointer.startsWith("question_")&&"true"===$(this).attr("data-aun")});if(n.length)h=n.data("settings").pointer.split("_")[1],"function"===typeof window[h+"_close"]&&(window[h+"_close"](),domqueryFocus());else{if("checkbox"===a.pointer||a.pointer?.startsWith("checkbox_"))n=b.find(`.${a.triggerClass}`),b.find(`.${a.optionClass}`).each(function(){const r=$(this);if(r.hasClass("group-option")||r.attr("data-group")||r.data("group"))r.find(".custom-checkbox").remove();else{var F="true"===
r.attr("data-checked");r.find(".custom-checkbox").remove();const t=document.createElement("div");t.className="custom-checkbox option-checkbox";Object.assign(t.style,{...W(),border:F?`2px solid ${a.checkboxColor}`:`2px solid ${a.buttonColor}`,borderRadius:"3px",backgroundColor:F?a.checkboxColor:"#fff",zIndex:"2",display:"block",width:a.checkboxSize,height:a.checkboxSize});F?(t.innerHTML=E(a.checkboxSize),a.selectedBg&&(F=!0===a.selectedBg?rgbToRgba(a.activeBackground,.5):a.selectedBg,r.addClass("selected").addClass("selected-bg-active"),
r[0].style.setProperty("background-color",F,"important"),r.css("font-weight","normal"))):a.selectedBg&&(r.removeClass("selected").removeClass("selected-bg-active"),r[0].style.removeProperty("background-color"),r.css("font-weight","normal"));r.append(t)}}),n.find(".custom-checkbox").length||(L=document.createElement("div"),L.className="custom-checkbox trigger-checkbox",J=parseInt(b.attr("data-check-count"))||0,Object.assign(L.style,{...W(),position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",
border:0<J?`2px solid ${a.checkboxColor}`:`2px solid ${a.buttonColor}`,borderRadius:"3px",backgroundColor:0<J?a.checkboxColor:"#fff",zIndex:"2",display:"block",width:a.checkboxSize,height:a.checkboxSize}),0<J&&(L.innerHTML=ja(J,a.checkboxSize)),n.append(L));if(!a.offclick||!b.hasClass(a.openClass)){var D=!1;if(h)b.removeClass(a.openClass),b.attr("data-state","closed"),ma(u),u.removeClass(a.highlightedClass),u.each(function(){const r=$(this);r.hasClass("selected")&&a.selectedBg?(r.addClass("selected-bg-active"),
r.css("opacity","1")):r.removeClass("selected-bg-active")}),"radio"===a.pointer&&(h=b.attr("data-selected-value"),n=b.find(".trigger-radio"),n.length&&(void 0!==h?(Object.assign(n[0].style,{border:`2px solid ${a.radioColor}`,backgroundColor:"#fff",width:a.radioSize,height:a.radioSize}),n[0].innerHTML=void 0!==h?O(a.radioColor,a):""):(Object.assign(n[0].style,{border:`2px solid ${a.buttonColor}`,backgroundColor:"#fff",width:a.radioSize,height:a.radioSize}),n[0].innerHTML=""))),M(d,k,a);else{if(a.delay&&
0<parseInt(a.delay)){if("true"===b.attr("data-delay-pending"))return!1;b.attr("data-delay-pending","true");const r=this;f.preventDefault();f.stopPropagation();setTimeout(function(){b.removeAttr("data-delay-pending");c.call(r,f)},parseInt(a.delay));return!1}c.call(this,f)}}}}});$(document).on("click",function(f){if(e)e=!1;else{var c=$(f.target),b=c.closest('[class*="-wrapper"]');if(c.closest(".group-option").length||b.data("groupClicked"))return f.preventDefault(),f.stopPropagation(),!1;f=$('[class*="-wrapper"][class*="open"]');
f.length&&!c.closest('[class*="-wrapper"]').length&&(wa=2,f.each(function(){const a=$(this),h=a.data("settings");if(h&&!0!==h.offclick&&(!h.pointer||!h.pointer.startsWith("question_")||"true"!==a.attr("data-aun"))){var d=a.find(`.${h.optionsClass}`),k=parseInt(a.attr("data-duration")),u=function(){a.find('[class*="-option"]').removeClass("selected");[50,100,200].forEach(n=>{setTimeout(()=>{const L=a.find('[class*="-option"].selected');0<L.length&&L.removeClass("selected")},n)})};if(m()&&!h.slideToggle)U(d,
k,$(".select-overlay"),a,h),u();else{a.removeClass(h.openClass);a.attr("data-state","closed");if("radio"===h.pointer){const n=a.attr("data-selected-value"),L=parseInt(a.attr("data-selected-index")),J=a.find(".trigger-radio");void 0!==n&&0<=L&&(Object.assign(J[0].style,{border:`2px solid ${h.radioColor}`,backgroundColor:"#fff",width:h.radioSize,height:h.radioSize}),J.html(O(h.radioColor,h)))}k?(h.slideToggle&&d.css("opacity",h.opacity||0),d.slideUp(k,{easing:h.easing,complete:function(){y(a);u();domqueryFocus()}})):
(u(),d.hide(),y(a),domqueryFocus())}}}))}});$(document).on("focusin",function(f){f=$(f.target);const c=f.closest('[class*="-wrapper"]');f.is("body")||$('[class*="-wrapper"][class*="open"]').each(function(){const b=$(this);if(!c.length||b[0]!==c[0]){var a=b.data("settings");if(a&&!0!==a.offclick&&(!a.pointer||!a.pointer.startsWith("question_")||"true"!==b.attr("data-aun"))){var h=b.find(`.${a.optionsClass}`),d=parseInt(b.attr("data-duration"));if(m()&&!a.slideToggle)U(h,d,$(".select-overlay"),b,a);
else{b.removeClass(a.openClass);b.attr("data-state","closed");if("radio"===a.pointer){const k=b.attr("data-selected-value"),u=parseInt(b.attr("data-selected-index")),n=b.find(".trigger-radio");void 0!==k&&0<=u&&(Object.assign(n[0].style,{border:`2px solid ${a.radioColor}`,backgroundColor:"#fff",width:a.radioSize,height:a.radioSize}),n.html(O(a.radioColor,a)))}d?a.slideToggle?h.css({opacity:a.opacity||0,"will-change":"height, opacity"}).slideUp(d,{easing:a.easing,complete:function(){h.css("will-change",
"");y(b);domqueryFocus()}}):h.css("will-change","height, opacity").slideUp(d,{easing:a.easing,complete:function(){h.css("will-change","");y(b);domqueryFocus()}}):(h.hide(),y(b),domqueryFocus())}}}})});$(document).on("focusout",'[class*="-wrapper"]',function(f){const c=$(this),b=c.data("settings");b&&!0!==b.offclick&&setTimeout(()=>{if($('[class*="-wrapper"][class*="open"]').length&&!(0<$(document.activeElement).closest('[class*="-wrapper"]').length||b.pointer&&b.pointer.startsWith("question_")&&"true"===
c.attr("data-aun"))){var a=c.find(`.${b.optionsClass}`),h=parseInt(c.attr("data-duration"));if(m()&&!b.slideToggle)U(a,h,$(".select-overlay"),c,b);else{c.removeClass(b.openClass);c.attr("data-state","closed");if("radio"===b.pointer){const d=c.attr("data-selected-value"),k=parseInt(c.attr("data-selected-index")),u=c.find(".trigger-radio");void 0!==d&&0<=k&&(Object.assign(u[0].style,{border:`2px solid ${b.radioColor}`,backgroundColor:"#fff",width:b.radioSize,height:b.radioSize}),u.html(O(b.radioColor,
b)))}h?(b.slideToggle&&a.css("opacity",b.opacity||0),a.slideUp(h,{easing:b.easing})):a.hide()}}},0)});$(window).on("resize",function(){$('[class*="-wrapper"][class*="open"]').each(function(){var f=$(this),c=f.data("settings");c&&!0!==c.slideToggle&&(c=f.find(`.${c.optionsClass}`),f=Z(f,c),c.css(f))})})}return this};
$.fn.select=function(w,l,H){const x=function(m,A,p){if(p){var R=A.val();p.pointer?"radio"===p.pointer?m.find(".custom-radio").each(function(){const O=$(this).closest('[class*="-option"]').attr("data-value")===R;$(this).css({border:O?`2px solid ${p.radioColor}`:`2px solid ${p.buttonColor}`,backgroundColor:"#fff"}).html(O?upHTMe(p.radioColor,p):"")}):"checkbox"===p.pointer?m.find(".custom-checkbox").each(function(){const O=$(this).closest('[class*="-option"]').attr("data-value")===R,E=p.checkboxColor||
"#2196F3",ja=p.checkboxSize||"16px";O?$(this).css({border:`2px solid ${E}`,backgroundColor:E}).html(upHTMe2(ja)):$(this).css({border:`2px solid ${p.buttonColor||"#ccc"}`,backgroundColor:"#fff"}).html("")}):p.pointer.startsWith("question_")&&m.find(".custom-question").each(function(){$(this).closest('[class*="-option"]').attr("data-value")===R?$(this).addClass("active"):$(this).removeClass("active")}):p.dot&&m.find(".custom-dot").each(function(){$(this).closest('[class*="-option"]').attr("data-value")===
R?$(this).css(p.dotSelectedStyle||{}):$(this).css(p.dotStyle||{})})}};if("string"===typeof w){if("value"===w)return""===l||null===l||void 0===l?this.each(function(){const m=$(this).find('option[value=""]');if(m.length)return $(this).select("index",m.index())}):this.each(function(){const m=$(this);if(this._selectId){var A=m.find(`option[value="${l}"]`);if(A.length){var p=$(".select-"+(this._selectId+"-wrapper"));const O=p.data("settings");m.find("option").prop("selected",!1);A.prop("selected",!0);
p.attr({"data-selected-value":A.val(),"data-selected-index":A.index()});var R=p.find('[class*="-option"]');R.removeClass("selected").removeClass("selected-bg-active").css("font-weight","normal");O.selectedBg&&R.each(function(){const aa=$(this),T=(aa.attr("style")||"").replace(/background-color:[^;]+;?/g,"");aa.attr("style",T)});const E=p.find(`[data-value="${A.val()}"]`);if(E.length){setTimeout(()=>{E.addClass("selected");O.selectedBg?(E.addClass("selected-bg-active"),E[0].style.setProperty("background-color",
!0===O.selectedBg?rgbToRgba(O.activeBackground,.5):O.selectedBg,"important"),E.css("font-weight","normal")):E.css("font-weight","bold")},300);const aa=p.find('[class*="-options"]');if(aa.length){R=(E.attr("class")?.split(" ")||[]).filter(T=>T!==O.optionClass&&"selected"!==T&&T!==O.highlightedClass&&!T.includes("wrapper")&&!T.includes("options"));if(0<R.length){const T=new Set,Y=y=>{if(y&&!T.has(y)){T.add(y);var M=aa.find(`[data-group="${y}"]`);M.length&&(M.addClass("expanded"),M.find(".custom-group-arrow").css("transform",
"translateY(-50%) rotate(180deg)"),aa.find(`.${y}`).show(),(M.attr("class")?.split(" ")||[]).forEach(I=>{"group-option"!==I&&"expanded"!==I&&Y(I)}))}};R.forEach(y=>Y(y))}void 0!==O.autoScrollToSelected&&O.autoScrollToSelected&&(R=parseInt(p.attr("data-duration"))||300,setTimeout(()=>{aa.find("div").first().length&&E.length&&E[0]&&"function"===typeof E[0].scrollIntoView&&E[0].scrollIntoView({block:"center",behavior:"smooth"})},R))}}x(p,A,O);p=p.find('[class*="-trigger"]');function ja(aa,T){var Y=T.attr("class");
if(!Y)return T.text();const y=[];Y=Y.split(" ");for(let I=0;I<Y.length;I++){var M=aa.find(`option[group="${Y[I]}"]`);if(M.length&&(y.push(M.text()),M=M.attr("class"))){M=M.split(" ");for(let U=0;U<M.length;U++){const Z=aa.find(`option[group="${M[U]}"]`);Z.length&&y.unshift(Z.text())}}}y.push(T.text());return[...(new Set(y))].join(" > ")}let W;if(m.find("option[group]").length)try{W="function"===typeof findGroupPath?findGroupPath(this,A.index()).text:ja(m,A)}catch(aa){console.warn("\uadf8\ub8f9 \uacbd\ub85c \uad6c\uc131 \uc911 \uc624\ub958 \ubc1c\uc0dd:",
aa),W=A.text()}else W=A.text();A=p.find(".custom-radio, .custom-checkbox, .custom-question, .custom-dot").clone();R=p.find('span[style*="position: absolute"]').clone();O&&O.allowHTML?p.html(W):p.text(W);A.length&&p.append(A);R.length&&p.append(R);m.val(l)}}else console.warn("Select element was not initialized with $.select() method")});if("index"===w&&"number"===typeof l)return this.each(function(){var m=$(this);if(this._selectId){var A=m.find("option").eq(l);if(A.length){var p=$(".select-"+(this._selectId+
"-wrapper"));const O=p.data("settings");m.find("option").prop("selected",!1);A.prop("selected",!0);p.attr({"data-selected-value":A.val(),"data-selected-index":l});var R=p.find('[class*="-option"]');R.removeClass("selected").removeClass("selected-bg-active").css("font-weight","normal");O.selectedBg&&R.each(function(){const aa=$(this),T=(aa.attr("style")||"").replace(/background-color:[^;]+;?/g,"");aa.attr("style",T)});const E=p.find(`[data-value="${A.val()}"]`);E.length&&setTimeout(()=>{E.addClass("selected");
O.selectedBg?(E.addClass("selected-bg-active"),E[0].style.setProperty("background-color",O.selectedBg,"important"),E.css("font-weight","normal")):E.css("font-weight","bold")},300);x(p,A,O);p=p.find('[class*="-trigger"]');function ja(aa,T){var Y=T.attr("class");if(!Y)return T.text();const y=[];Y=Y.split(" ");for(let I=0;I<Y.length;I++){var M=aa.find(`option[group="${Y[I]}"]`);if(M.length&&(y.push(M.text()),M=M.attr("class"))){M=M.split(" ");for(let U=0;U<M.length;U++){const Z=aa.find(`option[group="${M[U]}"]`);
Z.length&&y.unshift(Z.text())}}}y.push(T.text());return[...(new Set(y))].join(" > ")}let W;if(m.find("option[group]").length)try{W="function"===typeof findGroupPath?findGroupPath(this,l).text:ja(m,A)}catch(aa){console.warn("\uadf8\ub8f9 \uacbd\ub85c \uad6c\uc131 \uc911 \uc624\ub958 \ubc1c\uc0dd:",aa),W=A.text()}else W=A.text();m=p.find(".custom-radio, .custom-checkbox, .custom-question, .custom-dot").clone();R=p.find('span[style*="position: absolute"]').clone();O&&O.allowHTML?p.html(W):p.text(W);
m.length&&p.append(m);R.length&&p.append(R);"function"===typeof H&&H.call(this,{index:l,value:A.val(),text:A.text(),path:W})}}else console.warn("Select element was not initialized with $.select() method")});if("value"===w)return this.each(function(){var m=$(this);if(this._selectId){var A=m.find(`option[value="${l}"]`);if(A.length){var p=$(".select-"+(this._selectId+"-wrapper"));const O=A.index(),E=p.data("settings");m.find("option").prop("selected",!1);A.prop("selected",!0);p.attr({"data-selected-value":l,
"data-selected-index":O});var R=p.find('[class*="-option"]');R.removeClass("selected").removeClass("selected-bg-active").css("font-weight","normal");E.selectedBg&&R.each(function(){const T=$(this),Y=(T.attr("style")||"").replace(/background-color:[^;]+;?/g,"");T.attr("style",Y)});const ja=p.find(`[data-value="${l}"]`);ja.length&&setTimeout(()=>{ja.addClass("selected");E.selectedBg?(ja.addClass("selected-bg-active"),ja[0].style.setProperty("background-color",E.selectedBg,"important"),ja.css("font-weight",
"normal")):ja.css("font-weight","bold")},300);E&&E.pointer?"radio"===E.pointer?p.find(".custom-radio").each(function(){const T=$(this).closest('[class*="-option"]').attr("data-value")===l;$(this).css({border:T?`2px solid ${E.radioColor}`:`2px solid ${E.buttonColor}`,backgroundColor:"#fff"}).html(T?`<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: ${parseInt(E.radioSize)/2}px; height: ${parseInt(E.radioSize)/2}px; background-color: ${E.radioColor}; border-radius: 50%;"></div>`:
"")}):"checkbox"===E.pointer?p.find(".custom-checkbox").each(function(){const T=$(this).closest('[class*="-option"]').attr("data-value")===l,Y=E.checkboxColor||"#2196F3";T?$(this).css({border:`2px solid ${Y}`,backgroundColor:Y}).html('<svg viewBox="0 0 24 24" style="fill: white; width: 90%; height: 90%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></svg>'):$(this).css({border:`2px solid ${E.buttonColor||
"#ccc"}`,backgroundColor:"#fff"}).html("")}):E.pointer.startsWith("question_")&&p.find(".custom-question").each(function(){$(this).closest('[class*="-option"]').attr("data-value")===l?$(this).addClass("active"):$(this).removeClass("active")}):E&&E.dot&&p.find(".custom-dot").each(function(){const T=$(this).closest('[class*="-option"]').attr("data-value")===l;$(this).css({border:T?`2px solid ${E.dotColor}`:`2px solid ${E.buttonColor}`,backgroundColor:T?E.dotColor:"#fff"})});p=p.find('[class*="-trigger"]');
function W(T,Y){var y=Y.attr("class");if(!y)return Y.text();const M=[];y=y.split(" ");for(let U=0;U<y.length;U++){var I=T.find(`option[group="${y[U]}"]`);if(I.length&&(M.push(I.text()),I=I.attr("class"))){I=I.split(" ");for(let Z=0;Z<I.length;Z++){const ma=T.find(`option[group="${I[Z]}"]`);ma.length&&M.unshift(ma.text())}}}M.push(Y.text());return[...(new Set(M))].join(" > ")}let aa;if(m.find("option[group]").length)try{aa="function"===typeof findGroupPath?findGroupPath(this,O).text:W(m,A)}catch(T){console.warn("\uadf8\ub8f9 \uacbd\ub85c \uad6c\uc131 \uc911 \uc624\ub958 \ubc1c\uc0dd:",
T),aa=A.text()}else aa=A.text();m=p.find(".custom-radio, .custom-checkbox, .custom-question, .custom-dot").clone();R=p.find('span[style*="position: absolute"]').clone();E&&E.allowHTML?p.html(aa):p.text(aa);m.length&&p.append(m);R.length&&p.append(R);"function"===typeof H&&H.call(this,{index:O,value:l,text:A.text(),path:aa})}}else console.warn("Select element was not initialized with $.select() method")})}return $.select.call(this,w,l,H)};
$.fn.selectSet=function(w,l,H){return this.each(function(){function x(y,M,I){const [U,Z]=M.split(":");if("selected"===U)"selected"===Z&&(m.find("option").prop("selected",!1),y.prop("selected",!0),R(E,m,y),m.trigger("change"));else if("val"===U)if(M=y.val(),y.val(Z),I){const fa=y.attr("group");y.attr("group",Z);m.find(`option.${fa}`).each(function(){$(this).removeClass(fa).addClass(Z)});y=E.find(`[data-group="${fa}"]`);y.length&&(y.attr("data-group",Z),E.find(`.${fa}`).each(function(){$(this).removeClass(fa).addClass(Z)}))}else I=
E.find(`[data-value="${M}"]`),I.length&&I.attr("data-value",Z),y.prop("selected")&&O(E,A);else if("text"===U)if(y.text(Z),I){I=y.attr("group");I=E.find(`[data-group="${I}"]`);if(I.length){M=I.find(".custom-group-arrow").clone();var ma=I.contents().filter(function(){return 3===this.nodeType});ma.length?ma[0].nodeValue=Z:(ja&&ja.allowHTML?I.html(Z):I.text(Z),M.length&&I.append(M))}y=y.attr("group");m.find(`option.${y}`).filter(function(){return $(this).prop("selected")}).length&&O(E,A)}else{I=y.val();
I=E.find(`[data-value="${I}"]`);if(I.length){M=I.find(".custom-radio, .custom-checkbox, .custom-question, .custom-dot, .custom-group-arrow").clone();ma=I.find('span[style*="position: absolute"]').clone();let fa=I.contents().filter(function(){return 3===this.nodeType});fa.length?fa[0].nodeValue=Z:(ja&&ja.allowHTML?I.html(Z):I.text(Z),M.length&&I.append(M),ma.length&&I.append(ma))}y.prop("selected")&&O(E,A)}}const m=$(this),A=this;var p=this._selectId;if(p){var R=function(y,M,I){const U=y.data("settings"),
Z=I.val();I=I.index();y.attr({"data-selected-value":Z,"data-selected-index":I});y.find('[class*="-option"]').removeClass("selected").css("font-weight","normal");const ma=y.find(`[data-value="${Z}"]`);ma.length&&setTimeout(()=>{ma.addClass("selected");U.selectedBg||ma.css("font-weight","bold")},300);"radio"===U.pointer?y.find(".custom-radio").each(function(){const fa=$(this).closest('[class*="-option"]').attr("data-value")===Z;$(this).css({border:fa?`2px solid ${U.radioColor}`:`2px solid ${U.buttonColor}`,
backgroundColor:"#fff"}).html(fa?`<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: ${parseInt(U.radioSize)/2}px; height: ${parseInt(U.radioSize)/2}px; background-color: ${U.radioColor}; border-radius: 50%;"></div>`:"")}):U.dot&&y.find(".custom-dot").each(function(){const fa=$(this).closest('[class*="-option"]').attr("data-value")===Z;$(this).css({border:fa?`2px solid ${U.dotColor}`:`2px solid ${U.buttonColor}`,backgroundColor:fa?U.dotColor:"#fff"})});O(y,
M[0])},O=function(y,M){const I=y.data("settings");y=y.find('[class*="-trigger"]');var U=$(M);const Z=U.find("option:selected");if(Z.length){var ma=Z.index();if(U.find("option[group]").length&&"function"===typeof findGroupPath)try{var fa=findGroupPath(M,ma).text}catch(Ba){console.warn("Error getting group path:",Ba),fa=Z.text()}else fa=Z.text();M=y.find(".custom-radio, .custom-checkbox, .custom-question, .custom-dot").clone();U=y.find('span[style*="position: absolute"]').clone();I&&I.allowHTML?y.html(fa):
y.text(fa);M.length&&y.append(M);U.length&&y.append(U);"radio"===I.pointer&&(fa=y.find(".custom-radio"),fa.length&&fa.css({border:`2px solid ${I.radioColor}`,backgroundColor:"#fff"}).html(`<div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: ${parseInt(I.radioSize)/2}px; height: ${parseInt(I.radioSize)/2}px; background-color: ${I.radioColor}; border-radius: 50%;"></div>`))}},E=$(".select-"+(p+"-wrapper")),ja=E.data("settings");p=!1;if("string"===typeof w&&
w.startsWith("group:")){p=!0;var W=w.substring(6);W=m.find(`option[group="${W}"]`)}else"number"!==typeof w&&isNaN(parseInt(w))?"string"===typeof w&&(W=m.find(`option[value="${w}"]`)):(W=parseInt(w),W=m.find("option").eq(W),W.attr("group")&&(p=!0));if(W.length){if("string"===typeof l&&l.startsWith("{")&&l.endsWith("}")){var aa=l.match(/\{([^}]+)\}/g);if(aa)for(var T of aa)aa=T.substring(1,T.length-1),x(W,aa,p)}else"string"===typeof l&&x(W,l,p);if("function"===typeof H){var Y=m.find("option:selected");
T=Y.index();p=Y.val();W=Y.text();aa="";if(Y.length&&Y.attr("class")){Y=Y.attr("class").split(" ");for(const y of Y)if(Y=m.find(`option[group="${y}"]`),Y.length){aa=Y.text();break}}H.call(this,{index:T,value:p,text:W,group:aa})}}else console.warn(`Target option not found: ${w}`)}else console.warn("Select element was not initialized with $.select() method")})};
$.fn.selectGet=function(w){var l=$(this);if("number"===typeof w)return l=l.find("option").eq(w),l.length?l:$();if("string"===typeof w&&!["val","value","text","index","group"].includes(w)){var H=l.find(`option[value="${w}"]`);if(H.length)return H;l=l.find("option").filter(function(){return $(this).text()===w});return l.length?l:$()}var x=l.find("option:selected");if(!x.length)return $();if(w&&"val"!==w&&"value"!==w){if("text"===w)return x.text();if("index"===w)return x.index();if("group"===w){H="";
try{if(x.attr("class")){const m=x.attr("class").split(" ");x=[];for(const A of m){const p=l.find(`option[group="${A}"]`);if(p.length&&(x.unshift(p.text()),p.attr("class"))){const R=p.attr("class").split(" ");for(const O of R){const E=l.find(`option[group="${O}"]`);E.length&&x.unshift(E.text())}}}H=x.join(" > ")}}catch(m){console.warn("Error finding group path:",m)}return H}}else return x.val();return x};
function createParser(w,l,H,x={}){return{prefix:w,minParts:l,fields:H,optionalFields:x,parse:function(m){if(m.length<this.minParts)return null;const A={};this.fields.forEach((p,R)=>{A[p]=m[R+1]||""});Object.entries(this.optionalFields).forEach(([p,R])=>{p=parseInt(p);m[p]&&m[p].trim()&&(A[R]=m[p])});return A}}}
$.fn.selectAdd=function(w,l){return this.each(function(){const H=$(this);if(this._selectId){var x;if("string"===typeof w){window._selectParsers||(window._selectParsers=[],window._selectParsers.push(createParser("group:",3,["group","text"])),window._selectParsers.push(createParser("option:",4,["value","text","groupClass"],{4:"tag",5:"img"})));var m=window._selectParsers,A=w.split(":");(m=m.find(p=>w.startsWith(p.prefix)))&&(x=m.parse(A));x||(x=w)}else x=w;x.group?(A=document.createElement("option"),
A.setAttribute("group",x.group),A.textContent=x.text||"",x.parentGroup&&(A.className=x.parentGroup),H[0].appendChild(A)):(A=document.createElement("option"),A.value=x.value||"",A.textContent=x.text||"",x.groupClass&&(A.className=x.groupClass),x.tag&&A.setAttribute("tag",x.tag),x.img&&A.setAttribute("img",x.img),x.groupClass?(m=Array.from(H[0].querySelectorAll(`.${x.groupClass}`)),0<m.length?(m=m[m.length-1],m.nextSibling?H[0].insertBefore(A,m.nextSibling):H[0].appendChild(A)):(m=H[0].querySelector(`option[group="${x.groupClass}"]`))&&
m.nextSibling?H[0].insertBefore(A,m.nextSibling):H[0].appendChild(A)):H[0].appendChild(A));refreshSelectUI(H);"function"===typeof l&&l.call(this,{type:x.group?"group":"option",group:x.group||x.groupClass,value:x.value,text:x.text})}else console.warn("Select element was not initialized with $.select() method")})};
function refreshSelectUI(w){var l=w.closest('[class*="-wrapper"]');let H=null;l.length&&(H=l.data("settings"));if(l.length){const x=l[0].parentNode,m=l[0].nextSibling;w[0].style.display="";m?x.insertBefore(w[0],m):x.appendChild(w[0]);l.remove()}l={duration:300,opacity:1};H?(void 0!==H.slideToggle&&(l.slideToggle=H.slideToggle),void 0!==H.width&&(l.width=H.width),void 0!==H.defaultBgColor&&(l.defaultBgColor=H.defaultBgColor),void 0!==H.defaultColor&&(l.defaultColor=H.defaultColor)):l.slideToggle=!0;
w.select(300,l)}$.fn.selectAdd.registerParser=function(w,l,H,x){window._selectParsers||(window._selectParsers=[]);window._selectParsers.push(createParser(w,l,H,x))};
$.fn.selectRemove=function(w,l){return this.each(function(){const H=$(this);if(this._selectId){var x="";if("string"===typeof w)if(w.startsWith("group:")){var m=w.substring(6);m=H.find(`option[group="${m}"], option.${m}`);x="group"}else w.startsWith("value:")?(m=w.substring(6),m=H.find(`option[value="${m}"]`)):w.startsWith("index:")?(m=parseInt(w.substring(6)),m=H.find("option").eq(m)):m=H.find(`option[value="${w}"]`),x="option";m&&0<m.length&&(x={type:x,count:m.length,items:m.map(function(){return{value:$(this).val(),
text:$(this).text(),isGroup:void 0!==$(this).attr("group"),groupName:$(this).attr("group")||$(this).attr("class")}}).get()},m.remove(),refreshSelectUI(H),"function"===typeof l&&l.call(this,x))}else console.warn("Select element was not initialized with $.select() method")})};
